:PROPERTIES:
:header-args: :tangle no :mkdirp yes :results output silent :no-expand t
:END:
* src giggin
** src project
*** other
(find-file-other-frame "./.gitignore")
(find-file-other-frame "./package.json")
(find-file-other-frame "./shadow-cljs.edn")
(find-file-other-frame "./giggin.org")
** src core
*** core.cljs
:PROPERTIES:
:header-args: :tangle ./src/giggin/core.cljs
:END:
**** file core.cljs
(find-file-other-frame "./src/giggin/core.cljs")
**** src core.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.core
  (:require [reagent.core :as r]
            [giggin.components.gigs :refer [gigs]]
            [giggin.components.header :refer [header]]
            [giggin.components.orders :refer [orders]]
            [giggin.components.footer :refer [footer]]))

(defn app
  []
  [:div.container
   [header]
   [gigs]
   [orders]
   [footer]])

(defn ^:export main
  []
  (r/render
    [app]
    (.getElementById js/document "app")))


#+end_src

#+RESULTS:
: Please reevaluate when nREPL is connected
**** reple
(in-ns 'giggin.core)
app
(app)
(require '[giggin.components.gigs :refer [gigs]])
*** state.cljs
:PROPERTIES:
:header-args: :tangle ./src/giggin/state.cljs
:END:
**** file state.cljs
(find-file-other-frame "./src/giggin/state.cljs")
**** src state.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.state
  (:require [reagent.core :as r]))

(def orders (r/atom {}))

(def gigs (r/atom {:gig-01 {:id :gig-01
                            :title "Macaron"
                            :artist "Baher Khairy"
                            :desc "Sweet meringue-based rhythms with smooth and sweet injections of soul"
                            :img "https://res.cloudinary.com/schae/image/upload/f_auto,q_auto/v1519552695/giggin/baher-khairy-97645.jpg"
                            :price 1000
                            :sold-out false}
                   :gig-02 {:id :gig-02
                            :title "Stairs"
                            :artist "Brentr De Ranter"
                            :desc "Stairs to the highets peaks of music."
                            :img "https://res.cloudinary.com/schae/image/upload/f_auto,q_auto/v1519552695/giggin/brent-de-ranter-426248.jpg"
                            :price 2000
                            :sold-out false}
                   :gig-03 {:id :gig-03
                            :title "Infusion"
                            :artist "Camille Couvez"
                            :desc "Introduction of a new elements of music into modern world"
                            :img "https://res.cloudinary.com/schae/image/upload/f_auto,q_auto/v1519552695/giggin/camille-couvez-424606.jpg"
                            :price 3000
                            :sold-out false}
                   :gig-04 {:id :gig-04
                            :title "Books"
                            :artist "Cesar-Viteri"
                            :desc "A book of music, exploring different music genres across last decade"
                            :img "https://res.cloudinary.com/schae/image/upload/f_auto,q_auto/v1519552695/giggin/cesar-viteri-426877.jpg"
                            :seats 40
                            :price 4000
                            :sold-out false}
                   :gig-05 {:id :gig-05
                            :title "White"
                            :artist "Dan Schiumarini"
                            :desc "Vulnerability and humility exposed with Raps of Dan Schiumarini"
                            :img "https://res.cloudinary.com/schae/image/upload/f_auto,q_auto/v1519552695/giggin/dan-schiumarini-427769.jpg"
                            :price 5000
                            :sold-out false}
                   :gig-06 {:id :gig-06
                            :title "Hustin'"
                            :artist "Frank Cordoba"
                            :desc "Story of Hip Hop hustle by Frank Cordoba"
                            :img "https://res.cloudinary.com/schae/image/upload/f_auto,q_auto/v1519552695/giggin/frank-cordoba-425264.jpg"
                            :price 6000
                            :sold-out false}
                   :gig-07 {:id :gig-07
                            :title "Pumping"
                            :artist "Jakob Owens"
                            :desc "Get energized and ready to rock with this fresh and bright work of Jakob Owens"
                            :img "https://res.cloudinary.com/schae/image/upload/f_auto,q_auto/v1519552695/giggin/jakob-owens-393298.jpg"
                            :price 7000
                            :sold-out false}
                   :gig-08 {:id :gig-08
                            :title "Lion"
                            :artist "Jakob Puff"
                            :desc "An album of wild and brave sounds explored by Jakob Puff"
                            :img "https://res.cloudinary.com/schae/image/upload/f_auto,q_auto/v1519552695/giggin/jakob-puff-425634.jpg"
                            :price 8000
                            :sold-out false}
                   :gig-09 {:id :gig-09
                            :title "ampersand"
                            :artist "Kirstyn Paynter"
                            :desc "Connect music and words with ampersand and enjoy find out what happens next"
                            :img "https://res.cloudinary.com/schae/image/upload/f_auto,q_auto/v1519552696/giggin/kirstyn-paynter-424217.jpg"
                            :price 9000
                            :sold-out false}
                   :gig-10 {:id :gig-10
                            :title "Taxi"
                            :artist "Peter Kasprzyk"
                            :desc "Taka a Taxi ride with Peter to explore different beats of the city"
                            :img "https://res.cloudinary.com/schae/image/upload/f_auto,q_auto/v1519552696/giggin/peter-kasprzyk-111462.jpg"
                            :price 9000
                            :sold-out false}
                   :gig-11 {:id :gig-11
                            :title "Plaza De La Juderia"
                            :artist "Quino Al"
                            :desc "Spanish rhythms from Plaza De La Juderia"
                            :img "https://res.cloudinary.com/schae/image/upload/f_auto,q_auto/v1519552696/giggin/quino-al-427620.jpg"
                            :price 9000
                            :sold-out false}
                   :gig-12 {:id :gig-12
                            :title "Girl"
                            :artist "Shine Tang"
                            :desc "Shine Tang offers a grand exploration of classical music"
                            :img "https://res.cloudinary.com/schae/image/upload/f_auto,q_auto/v1519552696/giggin/shine-tang-425878.jpg"
                            :price 9000
                            :sold-out false}}))


#+end_src

#+RESULTS:
: Please reevaluate when nREPL is connected
**** reple
@giggin.state/orders


(in-ns 'giggin.state)
app
(app)
(require '[giggin.components.gigs :refer [gigs]])

(defn f [] (js/console.log "called"))
(f 1 2 3)
*** helpers.cljs
:PROPERTIES:
:header-args: :tangle ./src/giggin/helpers.cljs
:END:
**** file helpers.cljs
(find-file-other-frame "./src/giggin/helpers.cljs")
**** src helpers.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.helpers)

(defn format-price
  "convert cens to evro"
  [cents]
  (str "$" (/ cents 100)))



#+end_src

#+RESULTS:
: Please reevaluate when nREPL is connected
** components
*** gigs.cljs
:PROPERTIES:
:header-args: :tangle ./src/giggin/components/gigs.cljs
:END:
**** file gigs.cljs
(find-file-other-frame "./src/giggin/components/gigs.cljs")
**** src gigs.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.components.gigs
  (:require [giggin.state :as state ]
            [giggin.components.gig-editor :refer [gig-editor]]
            [reagent.core :as r]
            [giggin.helpers :refer [format-price]]))

(defn gig [{:keys [id img title price desc] :as el}]
  (let [add-to-order #(swap! state/orders update id inc)]
    [:div.gig {:key id}
      [:img.gig__artwork {:src img :alt title}]
      [:div.gig__body
        [:div.gig__title
          [:div.btn.btn--primary.float--right.tooltip
            { :data-tooltip "Add to order!"
              :on-click add-to-order}
            [:i.icon.icon--plus]]
          title]]
      [:p.gig__price (format-price price)]
      [:p.gig__desc desc]]))

(defn btn-add-gig []
  (let [modal (r/atom false)
        values (r/atom {:id nil :title "" :desc "" :price 0 :img "" :sold-out false})]
        [:div.gig
          [:button.add-gig
              {:on-click #(reset! modal true)}
              [:div.add__title
            [:i.icon.icon--plus]
            [:h1 "Add gig"]]]
          [gig-editor modal values]]))

(defn gigs []
  [:main
    [:div.gigs
      [btn-add-gig]
      (for [el (vals @state/gigs)]
        (gig el))]])



#+end_src

*** header.cljs
:PROPERTIES:
:header-args: :tangle ./src/giggin/components/header.cljs
:END:
**** file header.cljs
(find-file-other-frame "./src/giggin/components/header.cljs")
**** src header.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.components.header)

(defn header
  []
  [:header
   [:img {:src "img/giggin-logo.svg" :alt "Giggin logo"}]])

#+end_src

#+RESULTS:
: Please reevaluate when nREPL is connected
*** orders.cljs
:PROPERTIES:
:header-args: :tangle ./src/giggin/components/orders.cljs
:END:
**** file orders.cljs
(find-file-other-frame "./src/giggin/components/orders.cljs")
**** src orders.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.components.orders
  (:require [giggin.state :as state ]
            [giggin.helpers :refer [format-price]]
            [giggin.components.checkout-modal :refer [checkout-modal]]))


(defn orders-total
  [orders gigs]
  (->> orders
       (map (fn [[id quant]]
              (* quant (get-in gigs [id :price]))))
       (apply + 0)))

(defn remove-order
  [id q]
  (if (> q 1)
    (swap! state/orders update id dec)
    (swap! state/orders dissoc id)))

(defn order-item
  [id quant gigs]
  (let [title (get-in gigs [id :title])
        src   (get-in gigs [id :img])
        price (get-in gigs [id :price])]
      [:div.item {:key id}
        [:div.img
          [:img { :src src
                  :alt title}]]
        [:div.content
          [:p.title (str
            title " \u00D7 " quant)]]
        [:div.action
          [:div.price (format-price (* quant price))]
          [:button.btn.btn--link.tooltip
                { :data-tooltip "Remove"
                  :on-click #(remove-order id quant)}
              [:i.icon.icon--cross]]]]))



(defn orders
  []
  (let [orders state/orders
        gigs   state/gigs]
   [:aside
    [:div.order 
      (if (empty? @orders)
        [:div.empty
         [:div.title "You don't have any orders."]
         [:div.subtitle "Click on a + to add an order"]]
        [:div.body
          (for [[id quant] @orders]
              (order-item id quant @gigs))
          [:div.total
            [:hr]
            [:div.item
              [:div.content "Total: "]
              [:div.action
              [:div.price
                (format-price (orders-total @orders @gigs))]]
              [:button.btn.btn--link.tooltip
                  { :data-tooltip "Remove all"
                    :on-click #(reset! orders {})}
                [:i.icon.icon--delete]]]
            [checkout-modal]]])]]))



#+end_src

#+RESULTS:
: Please reevaluate when nREPL is connected
*** footer.cljs
:PROPERTIES:
:header-args: :tangle ./src/giggin/components/footer.cljs
:END:
**** file footer.cljs
(find-file-other-frame "./src/giggin/components/footer.cljs")
**** src footer.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.components.footer)

(defn footer
  []
  [:footer
   [:img {:src "img/giggin-icon.png" :alt "Giggin logo"}]])



#+end_src

#+RESULTS:
: Please reevaluate when nREPL is connected
*** checkout_modal.cljs
:PROPERTIES:
:header-args: :tangle ./src/giggin/components/checkout_modal.cljs
:END:
**** file checkout_modal.cljs
(find-file-other-frame "./src/giggin/components/checkout_modal.cljs")
**** src checkout_modal.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.components.checkout-modal
  (:require [reagent.core :as r]))

(defn checkout-modal
  []
  (let [modal (r/atom false)
        toggle-modal #(reset! modal %)]
    (fn
      []
      [:div.checkout-modal
       [:button.btn.btn--secondary
        {:on-click #(toggle-modal true)
         :style {:width "100%"}}
        "Checkout"]
       [:div.modal (when @modal {:class "active"})
        [:div.modal__overlay]
        [:div.modal__container
         [:div.modal__body
          [:div.payment
           [:img.payment-logo {:src "/img/paypal.svg" :alt "Paypal logo"}]
           [:img.payment-logo {:src "/img/stripe.svg" :alt "Stripe logo"}]]]
         [:div.modal__footer
          [:button.btn.btn--link.float--left
           {:on-click #(toggle-modal false)}
           "Cancel"]]]]])))



#+end_src

#+RESULTS:
: Please reevaluate when nREPL is connected
*** gig_editor.cljs
:PROPERTIES:
:header-args: :tangle ./src/giggin/components/gig_editor.cljs
:END:
**** file gig_editor.cljs
(find-file-other-frame "./src/giggin/components/gig_editor.cljs")
**** src gig_editor.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.components.gig-editor)

(defn form-group-item
  [{:keys [id type value values]}]
  (let [chenge-value-to-atom
          #(swap! values
                  assoc
                    (keyword id)
                    (.. % -target -value))]
    [:div.form__group
   [:label.form__label {:for id} id]
   [:input.form__input {:type type
                        :id id
                        :value value
                        :on-change chenge-value-to-atom}]]))

(defn form-sold-out
  [values]
  (let [toggle-target-checked
          #(swap! values
                  assoc
                    :sold-out
                    (.. % -target -checked))]
   [:div.form__group
      [:label.form__label {:for "sold-out"} "sold-out"]
      [:label.form__switch
       [:input {:type :checkbox
                :checked (:sold-out @values)
                :on-change toggle-target-checked}]
       [:i.form__icon]]]))


(defn form-group
  [values]
  [:div
     [form-group-item
        { :id "title"
          :type "text"
          :value (:title @values)
          :values values}]
     [form-group-item
        { :id "desc"
          :type "text"
          :value (:desc @values)
          :values values}]
     [form-group-item
        { :id "img"
          :type "text"
          :value (:img @values)
          :values values}]
     [form-group-item
        { :id "price"
          :type "number"
          :value (:price @values)
          :values values}]])


(defn gig-editor
  [modal values]
  [:div.modal (when @modal {:class "active"})
   [:div.modal__overlay]
   [:div.modal__container
    [:div.modal__body
      [form-group values]
      [form-sold-out values]]
    [:div.modal__footer
      [:button.btn.btn--link.float--left
        {:on-click #(reset! modal false)}
        "Cancel"]
      [:button.btn.btn--secondary
        "Save"]]]])

#+end_src

*** exampls
/home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/29-tips-and-tricks/src/giggin/components/admin_panel.cljs /home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/29-tips-and-tricks/src/giggin/components/checkout_modal.cljs /home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/29-tips-and-tricks/src/giggin/components/footer.cljs /home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/29-tips-and-tricks/src/giggin/components/gig_editor.cljs /home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/29-tips-and-tricks/src/giggin/components/gigs.cljs /home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/29-tips-and-tricks/src/giggin/components/header.cljs /home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/29-tips-and-tricks/src/giggin/components/orders.cljs
** src resources
*** index.html
:PROPERTIES:
:header-args: :tangle ./public/index.html
:END:
**** file
(find-file-other-frame "./public/index.html")
**** src
#+begin_src html :no-expand t :mkdirp yes 
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/css/style.css" type="text/css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins" >
    <link rel="icon" href="/img/giggin-icon.png">
    <title>Giggin</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>

    <div id="app">
      Loding app...
    </div>

    <script src="/js/main.js" type="text/javascript"></script>
    <script>window.onload = function() { giggin.core.main(); }</script>
  </body>
</html>
#+end_src
**** exampl
(find-file-other-frame "/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/group-chat/resources/public/index.html")
(find-file-other-frame "~/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/index.html")

*** style.css
:PROPERTIES:
:header-args: :tangle ./public/css/style.css
:END:
**** file style.css
(find-file-other-frame "./public/css/style.css")
**** src style.css
***** all
#+begin_src css :no-expand t :mkdirp yes 
/* = reset ================================================================= */

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
        margin: 0;
        padding: 0;
        border: 0;
        font-size: 100%;
        font: inherit;
        vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section {
        display: block;
}
body {
        line-height: 1;
}
ol, ul {
        list-style: none;
}
blockquote, q {
        quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
        content: '';
        content: none;
}
table {
        border-collapse: collapse;
        border-spacing: 0;
}

/* apply a natural box layout model to all elements, but allowing views to change */
html {
  box-sizing: border-box;
}
*, *:before, *:after {
  box-sizing: inherit;
}

button:focus {
        outline:0;
}

/* = giggin ================================================================ */

:root {
  --primary: #021d49;
  --primary-alpha: rgba(2, 29, 73, 0.5);
  --secondary: #00ffb0;
        --secondary-alpha: rgba(0, 255,126, 0.5);
  --gray: #f6f6f6;
  --gray-alpha: rgba(246, 246, 246, 0.9);
  --black-color: #222223;
        --red-color: #ff4d4f
}

::selection {
  background: var(--secondary);
}

::-moz-selection {
  background: var(--secondary);
}

body, button {
  font-family: 'Poppins', sans-serif;
  font-size: 1.4rem;
        background: var(--gray);
  color: var(--primary)
}

.container {
  margin-left: auto;
  margin-right: auto;
  padding-left: .4rem;
  padding-right: .4rem;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  max-width: 1000px;
}

@media (min-width: 768px) {
  .container {
    display: grid;
    grid-template-columns: 0.7fr 0.3fr;
    grid-template-rows: auto 1fr auto;
  }
}

a {
  background-color: transparent; /* 1 */
  -webkit-text-decoration-skip: objects; /* 2 */
}

a:active,
a:hover {
  outline-width: 0;
}

a {
  color: var(--primary);
  outline: none;
  text-decoration: none;
}

a:focus,
a:hover,
a:active,
a.active {
  color: var(--secondary);
  text-decoration: underline;
}

header {
  grid-column: span 2;
  padding: 1vw;
  text-align: center;
}

header .btn {
  height: 4rem;
}

.logo {
  width: 25vw;
  min-width: 160px;
  max-width: 380px;
}

aside {
  flex: 2;
  padding: .4rem;
}

main {
  padding: .4rem;
}

footer {
  grid-column: span 2;
  padding: 30px;
  padding-left: 0px;
  text-align: left;
  font-size: 0.8em;
  vertical-align: middle;
}

footer img {
  max-width: 40px;
}

h1 {
  margin-bottom: 1em;
  font-size: 1.3em;
  font-weight: bold;
}

hr {
  border: 0;
  height: 0;
  border-top: 1px solid var(--gray);
  margin-bottom: 20px;
}

.payment {
        max-width: 400px;
  margin: 0 auto;
}

.payment-logo {
        padding-top: 6vh;
  width: 100%;
}

.float--right {
  float: right !important;
  padding: .8rem;
}
.float--left {
  float: left !important;
  padding: .8rem;
}

.gigs {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(185px, 1fr));
  grid-gap: 20px;
}

.gig {
  display: grid;
  grid-template-columns: 100px 1fr;
  grid-gap: 10px;
  border: .01rem solid #fff;
  background: #fff;
  display: flex;
  display: -ms-flexbox;
  -ms-flex-direction: column;
  flex-direction: column;
  border-top-left-radius: 6px;
  border-top-right-radius: 6px;
}

.gig .gig__body p {
  padding: .8rem;
  font-size: 1rem;
  line-height: 1.4;
}

.gig .gig__footer {
  padding: .8rem;
}

.gig .gig-header:last-child,
.gig .gig-body:last-child,
.gig .gig-footer:last-child {
  padding-bottom: .8rem;
}

.gig .gig-image {
  padding-top: .8rem;
}

.gig .gig-image:first-child {
  padding-top: 0;
}

.gig__artwork:first-child {
  border-top-left-radius: 6px;
  border-top-right-radius: 6px;
}

.gig {
  border-bottom-left-radius: 6px;
  border-bottom-right-radius: 6px;
}

.gig .gig__body .gig__title {
  padding: .8rem;
  padding-bottom: 0;
  font-size: 1rem;
  line-height: 1.4;
  font-size: 1.2rem;
        color: var(--secondary);
}

.gig .gig__body .gig__price {
  padding-top: .1rem;
  width: 100%;
  color: var(--primary-alpha);
}

.gig .gig__body .gig__desc {
  font-size: .8rem;
  padding-bottom: .8rem;
}

.gig__artwork {
  width: 100%;
}

.gig__edit {
  width: 100%;
  opacity: 1;
  transition: opacity 0.3s ease-in-out;
}

.gig__edit:hover {
  cursor:pointer;
  opacity: 0.4
}

.sold-out {
        border: .05rem solid var(--red-color);
  border-color: var(--red-color);
        background: #fff;
  color: var(--red-color);
  border-radius: 6px;
        font-size: .9rem;
        height: 2rem;
        padding: .45rem .6rem;
        line-height: 1rem;
  outline: none;
  text-align: center;
}

/* = Button = */

.btn {
  -webkit-appearance: none;
  -moz-appearance: none;
  background: #fff;
  border: .05rem solid var(--secondary);
  border-radius: 6px;
  color: var(--secondary);
  cursor: pointer;
  display: inline-block;
  line-height: 1rem;
  outline: none;
  text-align: center;
  text-decoration: none;
  transition: all .2s ease;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  vertical-align: middle;
  white-space: nowrap;
  font-size: .9rem;
  height: 2rem;
  padding: .45rem .6rem;
}

.btn:focus,
.btn:hover {
  background: var(--gray);
  border-color: var(--primary);
  text-decoration: none;
}

.btn[disabled],
.btn:disabled,
.btn.disabled {
  cursor: default;
  opacity: .5;
  pointer-events: none;
}

.btn.btn--primary {
  background: var(--primary);
  border-color: var(--primary);
  color: #fff;
}

.btn.btn--primary:focus,
.btn.btn--primary:hover {
  background: var(--secondary);
  border-color: var(--secondary);
  color: var(--primary);
}

.btn.btn--primary:active,
.btn.btn--primary.active {
  background: var(--primary);
  border-color: var(--primary);
  color: var(--secondary);
}

.btn.btn--secondary {
  background: var(--secondary);
  border-color: var(--secondary);
  color: var(--primary);
}

.btn.btn--secondary:focus,
.btn.btn--secondary:hover {
  background: var(--primary);
  border-color: var(--primary);
  color: var(--gray);
}

.btn.btn--secondary:active,
.btn.btn--secondary.active {
  background: var(--primary);
  border-color: var(--primary);
  color: var(--secondary);
}

.btn.btn--link {
  background: transparent;
  border-color: transparent;
  color: var(--primary);
}

.btn.btn--link:focus,
.btn.btn--link:hover,
.btn.btn--link:active,
.btn.btn--link.active {
  color: var(--secondary);
}

.btn.btn--clear {
  background: transparent;
  border: 0;
  color: currentColor;
  height: .8rem;
  line-height: .8rem;
  margin-left: .2rem;
  margin-right: -2px;
  opacity: 1;
  padding: 0;
  text-decoration: none;
  width: .8rem;
}

.btn.btn--clear:hover {
  color: #00ffb9;
  opacity: .95;
}

.btn.btn--clear::before {
  content: "\2715";
}

.btn .icon {
  vertical-align: -10%;
}

/* = Icon = */

.icon {
  box-sizing: border-box;
  display: inline-block;
  font-size: inherit;
  font-style: normal;
  height: 1em;
  position: relative;
  text-indent: -9999px;
  vertical-align: middle;
  width: 1em;
}

.icon::before,
.icon::after {
  display: block;
  left: 50%;
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
}

.icon--forward::before {
  border: 1px solid currentColor;
  border-bottom: 0;
  border-right: 0;
  content: "";
  height: .62em;
  width: .62em;
}

.icon--forward::after {
  background: currentColor;
  content: "";
  height: 13px;
  width: 1px;
}

.icon--forward::after {
  left: 46%;
}

.icon--forward::before {
  transform: translate(-50%, -50%) rotate(135deg);
}

.icon--plus::before,
.icon--cross::before {
  background: currentColor;
  content: "";
  height: 1px;
  width: 100%;
}

.icon--plus::after,
.icon--cross::after {
  background: currentColor;
  content: "";
  height: 100%;
  width: 1px;
}

.icon--cross::before {
  width: 100%;
}

.icon--cross::after {
  height: 100%;
}

.icon--cross::before,
.icon--cross::after {
  transform: translate(-50%, -50%) rotate(45deg);
}

.icon--delete::before {
  border: 1px solid currentColor;
  border-bottom-left-radius: .1rem;
  border-bottom-right-radius: .1rem;
  border-top: 0;
  content: "";
  height: .65em;
  top: 60%;
  width: .75em;
}

.icon--delete::after {
  background: currentColor;
  box-shadow: -.25em .2em, .25em .2em;
  content: "";
  height: 1px;
  top: .05rem;
  width: .55em;
}

/* = Tooltip = */

.tooltip {
  position: relative;
}

.tooltip::after {
  background: rgba(69, 77, 93, .9);
  border-radius: 6px;
  color: #fff;
  content: attr(data-tooltip);
  display: block;
  font-size: .8rem;
  max-width: 320px;
  opacity: 0;
  overflow: hidden;
  padding: .3rem .5rem;
  pointer-events: none;
  position: absolute;
  text-overflow: ellipsis;
  transform: translate(-50%, .4rem);
  transition: all .2s ease;
  white-space: pre;
  z-index: 300;
        bottom: 50%;
  left: auto;
  right: 100%;
  transform: translate(.4rem, 50%);
}

.tooltip:focus::after,
.tooltip:hover::after {
  opacity: 1;
  transform: translate(-.2rem, 50%);
}

.tooltip[disabled],
.tooltip.disabled {
  pointer-events: auto;
}

/* = Orders =*/

.order {
  border: .05rem solid var(--gray);
  border-radius: 6px;
  display: flex;
  display: -ms-flexbox;
  -ms-flex-direction: column;
  flex-direction: column;
        background: #fff;
}

.order .total {
  -ms-flex: 0 0 auto;
  flex: 0 0 auto;
  padding: .8rem;
  font-size: 1.1rem;
}

.order .order-nav {
  -ms-flex: 0 0 auto;
  flex: 0 0 auto;
}

.order .body {
  -ms-flex: 1 1 auto;
  flex: 1 1 auto;
  padding: .6rem .8rem;
  padding-bottom: 0;
}

/* = admin-panel = */
.admin-panel {
  border: .05rem solid var(--gray);
  border-radius: 6px;
  display: flex;
  display: -ms-flexbox;
  -ms-flex-direction: column;
  flex-direction: column;
        -ms-flex: 0 0 auto;
  flex: 0 0 auto;
  padding: .8rem;
  font-size: 1.1rem;
        margin-bottom: 1rem;
        background: #fff;
}


/* = item = */

.item {
  align-content: space-between;
  align-items: center;
  display: flex;
  display: -ms-flexbox;
  -ms-flex-align: center;
  -ms-flex-line-pack: justify;
  /* visibility: hidden; */
}

.item .action {
  -ms-flex: 0 0 auto;
  flex: 0 0 auto;
}

.item .action .price {
        -webkit-appearance: none;
  -moz-appearance: none;
  background: #fff;
  display: inline-block;
  line-height: 1rem;
  outline: none;
  text-align: center;
  text-decoration: none;
  transition: all .2s ease;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  vertical-align: middle;
  white-space: nowrap;
  font-size: .9rem;
  height: 2rem;
  padding: .45rem .6rem;
        background: transparent;
  border-color: transparent;
  color: var(--primary);
        cursor: default;
        opacity: .5;
        pointer-events: none;
}

.item img {
  margin: .4rem .4rem .4rem .2rem;
  border-radius: 4px;
  max-width: 30px;
}

.item .content {
  -ms-flex: 1 1 auto;
  flex: 1 1 auto;
}

.item .title {
  -ms-flex: 1 1 auto;
  flex: 1 1 auto;
  -webkit-margin-before: 0px;
  line-height: 1rem;
  font-size: .9rem;
}

.item .sold-out {
  -ms-flex: 1 1 auto;
  flex: 1 1 auto;
  -webkit-margin-before: 0px;
  line-height: 1rem;
  font-size: .9rem;
        color: var(--red-color);
}

.item.item-centered .title,
.item.item-centered .item-subtitle {
  margin-bottom: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* = empty =*/

.empty {
  background-color: #fff;
  border: .05rem solid #fff;
  color: var(--primary-alpha);
  border-radius: 6px;
  padding: 3.2rem 1.6rem;
  text-align: center;
}

.empty .title,
.empty .subtitle {
  margin: .8rem auto;
}

.empty .subtitle {
  font-size: .9rem;
}

/* = add-event =*/
.add-gig {
  border: .05rem solid #fff;
  background-color: #fff;
  color: var(--secondary);
  border-radius: 6px;
  padding: 3.2rem 1.6rem;
  text-align: center;
  opacity: 0.4;
}

.add-gig:hover {
  cursor: pointer;
  border-radius: 6px;
  padding: 3.2rem 1.6rem;
  text-align: center;
  opacity: 1;
  transition: opacity 0.3s ease-in-out;
}

.add-gig .add__title {
  margin: .8rem auto;
}

/* = modal = */

.checkout-modal {
        margin-top: 20px;
}

.checkout {
  min-height: 75%;
  max-width: 400px;
  margin: 0 auto;
}

.modal {
  align-items: center;
  bottom: 0;
  display: none;
  -ms-flex-align: center;
  -ms-flex-pack: center;
  justify-content: center;
  left: 0;
  opacity: 0;
  overflow: hidden;
  padding: .4rem;
  position: fixed;
  right: 0;
  top: 0;
}

.modal:target,
.modal.active {
  display: flex;
  display: -ms-flexbox;
  opacity: 1;
  z-index: 400;
}

.modal:target .modal__overlay,
.modal.active .modal__overlay {
  background: var(--gray);
  bottom: 0;
  cursor: default;
  display: block;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
}

.modal:target .modal__container,
.modal.active .modal__container {
        box-shadow: none;
  max-width: 960px;
  width: 100%;
  z-index: 1;
}

.modal__container {
  background: var(--gray);
  border-radius: 1rem;
  box-shadow: 0 .2rem .5rem rgba(69, 77, 93, .3);
  display: block;
  padding: 0 .8rem;
  text-align: left;
}

.modal__container .modal__header .modal__title {
  color: var(--primary);
  background: #fff;
}

@media (min-width: 768px) {
  .modal__container .modal__body {
    min-height: 450px;
  }
  .modal__container .modal__body .checkout {
    padding-top: 4rem;
  }
}

.modal__container .modal__body {
  max-height: 66vh;
  overflow-y: auto;
  padding: .4rem;
  position: relative;

}

.modal__container .modal__footer {
  padding-bottom: 1.2rem;
  text-align: right;
}

@media (max-width: 768px) {
  .modal__container .modal__header {
    position: fixed;
    top: 1.4rem;
    right: 1.8rem;
    left: 1.8rem;
    background-color: #fff;
  }

  .modal__container .modal__footer {
    position: fixed;
    bottom: .4rem;
    right: 1.8rem;
    left: 1.8rem;
  }
}


.step {
  display: flex;
  display: -ms-flexbox;
  -ms-flex-wrap: nowrap;
  flex-wrap: nowrap;
  list-style: none;
  margin: .2rem 0;
  width: 100%;
}

.step .step__item {
  -ms-flex: 1 1 0;
  flex: 1 1 0;
  margin-top: 0;
  min-height: 1rem;
  position: relative;
  text-align: center;
}

.step .step__item:not(:first-child)::before {
  background: var(--secondary);
  content: "";
  height: 1px;
  left: -50%;
  position: absolute;
  top: 7px;
  width: 100%;
}

.step .step__item a {
  color: var(--primary-alpha);
  display: inline-block;
  padding: 20px 10px 0;
  text-decoration: none;
  background: #fff;
}

.step .step__item a::before {
  background: var(--secondary);
  border: .1rem solid #fff;
  border-radius: 50%;
  content: "";
  display: block;
  height: 10px;
  left: 50%;
  position: absolute;
  top: 3px;
  transform: translateX(-50%);
  width: 10px;
  z-index: 1;
}

.step .step__item.active a::before {
  background: #fff;
  border: .1rem solid var(--secondary);
}

.step .step__item.active ~ .step__item::before {
  background: var(--gray);
}

.step .step__item.active ~ .step__item a::before {
  background: var(--gray);
}

/* =form= */

.form__group:not(:last-child) {
  margin-bottom: .4rem;
}

.form__label {
        color: var(--primary);
  display: block;
  line-height: 1rem;
  padding: .4rem 0;
        margin-top: .6rem;
  font-size: .8rem;
}

.form__input {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background: #fff;
  background-image: none;
  border: .05rem solid #d3d3d3;
  border-radius: 6px;
  color: var(--primary);
  display: block;
  font-size: .8rem;
  height: 1.8rem;
  line-height: 1rem;
  max-width: 100%;
  outline: none;
  padding: .35rem .4rem;
  position: relative;
  transition: all .2s ease;
  width: 100%;
}

.form__input:focus {
  border-color: var(--secondary);
  box-shadow: 0 0 0 .2rem rgba(00, 255, 176, .5);
}

.form__input::-webkit-input-placeholder {
  color: #d3d3d3;
}

.form__input:-ms-input-placeholder {
  color: #d3d3d3;
}

.form__input::placeholder {
  color: #d3d3d3;
}

textarea.form__input {
  height: auto;
}

.form__switch {
  display: inline-block;
  line-height: 1rem;
  margin: .2rem 0;
  min-height: 1.2rem;
  padding: .2rem .4rem .2rem 1.2rem;
  position: relative;
}

.form__switch input {
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  position: absolute;
  width: 1px;
}

.form__switch input:focus + .form__icon {
  border-color: var(--secondary);
}

.form__switch input:checked + .form__icon {
  background: var(--secondary);
  border-color: var(--secondary-alpha);
}

.form__switch .form__icon {
  border: .05rem solid var(--secondary);
  cursor: pointer;
  display: inline-block;
  position: absolute;
  transition: all .2s ease;
        font-size: .8rem;
}

.form__switch.input-lg {
  font-size: .9rem;
  margin: .3rem 0;
}

.form__switch {
  padding-left: 2rem;
}

.form__switch .form__icon {
  background: var(--gray);
  background-clip: padding-box;
  border-radius: 50px;
  height: 22px;
  left: 0;
  top: 4px;
  width: 42px;
}

.form__switch .form__icon::before {
  background: #fff;
  border-radius: 50%;
  content: "";
  display: block;
  height: 20px;
  left: 1px;
  position: absolute;
  top: 0px;
  transition: all .2s ease;
  width: 20px;
}

.form__switch input:checked + .form__icon::before {
  left: 20px;
}

.form__switch input:active + .form__icon::before {
  background: #f8f9fa;
}


/* = avatar = */

figure {
  display: block;
}

.avatar {
  display: inline-block;
  margin: 0;
  vertical-align: middle;
  height: 2rem;
  width: 2rem;
}

.avatar img {
  border-radius: 50%;
  height: 100%;
  width: 100%;
  z-index: 1;
}

#+end_src
**** exampl
(find-file-other-frame "~/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/css/style.css")
**** CANCELED arhiv
:PROPERTIES:
:header-args: :tangle no
:END:
***** all
#+begin_src css :no-expand t :mkdirp yes 
/* Source: https://github.com/tastejs/todomvc-app-css/blob/v2.1.0/index.css */
html,
body {
    margin: 0;
    padding: 0;
}

button {
    margin: 0;
    padding: 0;
    border: 0;
    background: none;
    font-size: 100%;
    vertical-align: baseline;
    font-family: inherit;
    font-weight: inherit;
    color: inherit;
    -webkit-appearance: none;
    appearance: none;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font: 14px 'Helvetica Neue', Helvetica, Arial, sans-serif;
    line-height: 1.4em;
    background: #f5f5f5;
    color: #4d4d4d;
    min-width: 230px;
    max-width: 550px;
    margin: 0 auto;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-weight: 300;
}

:focus {
    outline: 0;
}

.hidden {
    display: none;
}

.todoapp {
    background: #fff;
    margin: 130px 0 40px 0;
    position: relative;
    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2),
                0 25px 50px 0 rgba(0, 0, 0, 0.1);
}

.todoapp input::-webkit-input-placeholder {
    font-style: italic;
    font-weight: 300;
    color: #e6e6e6;
}

.todoapp input::-moz-placeholder {
    font-style: italic;
    font-weight: 300;
    color: #e6e6e6;
}

.todoapp input::input-placeholder {
    font-style: italic;
    font-weight: 300;
    color: #e6e6e6;
}

.todoapp h1 {
    position: absolute;
    top: -155px;
    width: 100%;
    font-size: 100px;
    font-weight: 100;
    text-align: center;
    color: rgba(175, 47, 47, 0.15);
    -webkit-text-rendering: optimizeLegibility;
    -moz-text-rendering: optimizeLegibility;
    text-rendering: optimizeLegibility;
}

.new-todo,
.edit {
    position: relative;
    margin: 0;
    width: 100%;
    font-size: 24px;
    font-family: inherit;
    font-weight: inherit;
    line-height: 1.4em;
    border: 0;
    color: inherit;
    padding: 6px;
    border: 1px solid #999;
    box-shadow: inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.new-todo {
    padding: 16px 16px 16px 60px;
    border: none;
    background: rgba(0, 0, 0, 0.003);
    box-shadow: inset 0 -2px 1px rgba(0,0,0,0.03);
}

.main {
    position: relative;
    z-index: 2;
    border-top: 1px solid #e6e6e6;
}

.toggle-all {
    text-align: center;
    border: none; /* Mobile Safari */
    opacity: 0;
    position: absolute;
}

.toggle-all + label {
    width: 60px;
    height: 34px;
    font-size: 0;
    position: absolute;
    top: -52px;
    left: -13px;
    -webkit-transform: rotate(90deg);
    transform: rotate(90deg);
}

.toggle-all + label:before {
    content: '❯';
    font-size: 22px;
    color: #e6e6e6;
    padding: 10px 27px 10px 27px;
}

.toggle-all:checked + label:before {
    color: #737373;
}

.todo-list {
    margin: 0;
    padding: 0;
    list-style: none;
}

.todo-list li {
    position: relative;
    font-size: 24px;
    border-bottom: 1px solid #ededed;
}

.todo-list li:last-child {
    border-bottom: none;
}

.todo-list li.editing {
    border-bottom: none;
    padding: 0;
}

.todo-list li.editing .edit {
    display: block;
    width: 506px;
    padding: 12px 16px;
    margin: 0 0 0 43px;
}

.todo-list li.editing .view {
    display: none;
}

.todo-list li .toggle {
    text-align: center;
    width: 40px;
    /* auto, since non-WebKit browsers doesn't support input styling */
    height: auto;
    position: absolute;
    top: 0;
    bottom: 0;
    margin: auto 0;
    border: none; /* Mobile Safari */
    -webkit-appearance: none;
    appearance: none;
}

.todo-list li .toggle {
    opacity: 0;
}

.todo-list li .toggle + label {
    /*
        Firefox requires `#` to be escaped - https://bugzilla.mozilla.org/show_bug.cgi?id=922433
        IE and Edge requires *everything* to be escaped to render, so we do that instead of just the `#` - https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7157459/
   ,*/
    background-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E');
    background-repeat: no-repeat;
    background-position: center left;
}

.todo-list li .toggle:checked + label {
    background-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23bddad5%22%20stroke-width%3D%223%22/%3E%3Cpath%20fill%3D%22%235dc2af%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22/%3E%3C/svg%3E');
}

.todo-list li label {
    word-break: break-all;
    padding: 15px 15px 15px 60px;
    display: block;
    line-height: 1.2;
    transition: color 0.4s;
}

.todo-list li.completed label {
    color: #d9d9d9;
    text-decoration: line-through;
}

.todo-list li .destroy {
    display: none;
    position: absolute;
    top: 0;
    right: 10px;
    bottom: 0;
    width: 40px;
    height: 40px;
    margin: auto 0;
    font-size: 30px;
    color: #cc9a9a;
    margin-bottom: 11px;
    transition: color 0.2s ease-out;
}

.todo-list li .destroy:hover {
    color: #af5b5e;
}

.todo-list li .destroy:after {
    content: '×';
}

.todo-list li:hover .destroy {
    display: block;
}

.todo-list li .edit {
    display: none;
}

.todo-list li.editing:last-child {
    margin-bottom: -1px;
}

.footer {
    color: #777;
    padding: 10px 15px;
    height: 20px;
    text-align: center;
    border-top: 1px solid #e6e6e6;
}

.footer:before {
    content: '';
    position: absolute;
    right: 0;
    bottom: 0;
    left: 0;
    height: 50px;
    overflow: hidden;
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2),
                0 8px 0 -3px #f6f6f6,
                0 9px 1px -3px rgba(0, 0, 0, 0.2),
                0 16px 0 -6px #f6f6f6,
                0 17px 2px -6px rgba(0, 0, 0, 0.2);
}

.todo-count {
    float: left;
    text-align: left;
}

.todo-count strong {
    font-weight: 300;
}

.filters {
    margin: 0;
    padding: 0;
    list-style: none;
    position: absolute;
    right: 0;
    left: 0;
}

.filters li {
    display: inline;
}

.filters li a {
    color: inherit;
    margin: 3px;
    padding: 3px 7px;
    text-decoration: none;
    border: 1px solid transparent;
    border-radius: 3px;
}

.filters li a:hover {
    border-color: rgba(175, 47, 47, 0.1);
}

.filters li a.selected {
    border-color: rgba(175, 47, 47, 0.2);
}

.clear-completed,
html .clear-completed:active {
    float: right;
    position: relative;
    line-height: 20px;
    text-decoration: none;
    cursor: pointer;
}

.clear-completed:hover {
    text-decoration: underline;
}

.info {
    margin: 65px auto 0;
    color: #bfbfbf;
    font-size: 10px;
    text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
    text-align: center;
}

.info p {
    line-height: 1;
}

.info a {
    color: inherit;
    text-decoration: none;
    font-weight: 400;
}

.info a:hover {
    text-decoration: underline;
}

/*
    Hack to remove background from Mobile Safari.
    Can't use it globally since it destroys checkboxes in Firefox
,*/
@media screen and (-webkit-min-device-pixel-ratio:0) {
    .toggle-all,
    .todo-list li .toggle {
        background: none;
    }

    .todo-list li .toggle {
        height: 40px;
    }
}

@media (max-width: 430px) {
    .footer {
        height: 50px;
    }

    .filters {
        bottom: 10px;
    }
}
#+end_src
*** other
(find-file-other-frame "./public/img/giggin-icon.png")
(find-file-other-frame "./public/img/giggin-logo.svg")
(find-file-other-frame "./public/img/paypal.svg")
(find-file-other-frame "./public/img/stripe.svg")
* files giggin
** files root
(find-file-other-frame "./.gitignore")
(find-file-other-frame "./package.json")
(find-file-other-frame "./shadow-cljs.edn")
(find-file-other-frame "./giggin.org")
** core
(find-file-other-frame "./src/giggin/core.cljs")
(find-file-other-frame "./src/giggin/state.cljs")
** resurs
(find-file-other-frame "./public/css/style.css")
(find-file-other-frame "./public/img/giggin-icon.png")
(find-file-other-frame "./public/img/giggin-logo.svg")
(find-file-other-frame "./public/img/paypal.svg")
(find-file-other-frame "./public/img/stripe.svg")
(find-file-other-frame "./public/index.html")

** files other
find "$PWD" -type f >>filepath.txt
(find-file-other-frame "filepath.txt")
* run giggin
** run server and reple
#+begin_src elisp :results output silent
(buyn-shell-start "konsole -e bash -c \"npm run dev\"")
(evil-previous-line)
(org-cycle)
(delete-other-windows)
#+end_src

konsole -e bash -c "npm run dev"
(buyn-shell-start "konsole -e /bin/bash --rcfile <(npm run dev)")

** repl
#+begin_src elisp :results output silent 
(evil-previous-line)
(org-cycle)
(delete-other-windows)
(let (buffer-name-to-close (buffer-name))
        (evil-window-split)
        (eshell)
        (evil-quit)
        (switch-to-buffer-other-frame buffer-name-to-close))
#+end_src

lein figwheel

:cljs/quit
:cljs/restart


cd giggin
clojure -M:fig:build
clojure -M:fig:build dev

ls 
ls target public/js
ls .cpcache
rm -rf target public/js
rm -rf .cpcache

lein cljsbuild once

lein deps :refresh
** run dev
npm run dev

http://localhost:3000/

shadow-cljs - nREPL server started on port 3333

shadow-cljs restart
shadow-cljs cljs-repl app

(shadow/watch :app)

:cljs/quit
:cljs/restart

lein figwheel
** connect to nREPL
(cider)
(cider-connect-cljs)
(cider-connect-cljs (:host "localhost" :port 3333 :cljs-repl-type ’shadow))
(shadow.cljs.devtools.api/nrepl-select :app)
** git
*** init
git init
git add .
git commit -m "start"
*** push
git remote add origin https://github.com/Buyn/giggin.git
git branch -M main
git push -u origin main


*** clon
git clone https://github.com/Buyn/giggin.git


echo "# giggin" >> README.md
git init
git add README.md
git commit -m "first commit"
git branch -M main
git remote add origin https://github.com/Buyn/giggin.git
git push -u origin main
** build
:cljs/quit
rm resources/public/js/app.js
lein do clean, cljsbuild once min
cp resources/public/js/app.js "~/Dev/ClojureScript/giggin/js/app.js"
cp resources/public/index.html "~/Dev/ClojureScript/giggin/index.html"
cp -r resources/public/txt "~/Dev/ClojureScript/giggin/"


надо удолить вручную
  resources/public/js/app.js
  и тогда проходит комплиция нормально
rm resources/public/js/app.js
lein do clean, cljsbuild once min

Добавь :clean-targets в project.clj, чтобы lein clean удалял весь js-папку:
:clean-targets ^{:protect false} ["resources/public/js" "target"]
(Это гарантирует, что resources/public/js/app.js удалится при lein clean.)


lein clean

lein cljsbuild once min

  resources/public/js/app.js
  resources/public/js/min/

2. Можно протестировать локально:
   python3 -m http.server -d resources/public
   или
   npx http-server resources/public

** publish
*** git
git remote add origin https://github.com/Buyn/giggin.git
git branch -M main
git push -u origin main

https://buyn.github.io/

https://<username>.github.io/<repo-name>/.
https://buyn.github.io/giggin.git
https://buyn.github.io/giggin.git/.
*** orign
# Sample workflow for building and deploying a Jekyll site to GitHub Pages
name: Deploy Jekyll with GitHub Pages dependencies preinstalled

on:
  # Runs on pushes targeting the default branch
  push:
    branches: ["main"]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.
# However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  # Build job
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Setup Pages
        uses: actions/configure-pages@v5
      - name: Build with Jekyll
        uses: actions/jekyll-build-pages@v1
        with:
          source: ./
          destination: ./_site
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3

  # Deployment job
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
*** static.yml

# Simple workflow for deploying static content to GitHub Pages
name: Deploy static content to Pages

on:
  # Runs on pushes targeting the default branch
  push:
    branches: ["main"]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.
# However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  # Single deploy job since we're just deploying
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Setup Pages
        uses: actions/configure-pages@v5
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          # Upload entire repository
          path: '.'
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
*** workflows
giggin/.github/workflows
.github/workflows/deploy.yml
*** name: Build and Deploy
name: Build and Deploy
on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up Clojure tools
        uses: DeLaGuardo/setup-clojure@v2
        with:
          deps: 'true'
          tools-deps: 'true'

      - name: Build ClojureScript
        run: |
          lein clean
          lein cljsbuild once min

      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./resources/public

** deps
npm install

* описание
** ИИ
если мне интересно сделать компонент для настолькной игры
например игральная карта. Тоесть основной её функцикй будет возможность перетегивания, при зажатой левой кноаке.
как можно былобы это проще реализовть?
** код ИИ
Перетаскиваемая карта — это классический **интерактивный компонент**.
И можно сделать его **очень просто** в Reagent/ClojureScript — без тяжёлых библиотек.

Вот визуально, о чём речь:

---

## ✅ Самый простой путь: HTML5 Drag & Drop + Reagent

### 🔹 Карта как React/Reagent компонент

```clojure
(ns game.components.card
  (:require [reagent.core :as r]))

(defn card [{:keys [id suit rank]}]
  [:div.card
   {:draggable true
    :on-drag-start #(js/console.log "drag start" id)}
   (str rank " " suit)])
```

ВСЁ ✅
Уже перетаскивается!
Пока что без логики — просто событие.

---

## ➕ Чтобы **карта могла менять своё положение** на столе

Мы храним позицию карты в **atom**:

```clojure
(defonce positions (r/atom {}))

(defn set-position! [id x y]
  (swap! positions assoc id {:x x :y y}))
```

---

## 🔥 Карта с абсолютным позиционированием и поведением drag-move

```clojure
(defn draggable-card [{:keys [id suit rank]}]
  (let [{:keys [x y]} (get @positions id {:x 100 :y 100})]
    [:div.card
     {:style {:position "absolute"
              :cursor "grab"
              :left x
              :top y}
      :on-mouse-down
      (fn [e]
        (let [start-x (.-clientX e)
              start-y (.-clientY e)
              on-move
              (fn [e2]
                (set-position! id
                               (+ x (- (.-clientX e2) start-x))
                               (+ y (- (.-clientY e2) start-y))))
              on-up
              (fn [_]
                (.removeEventListener js/window "mousemove" on-move)
                (.removeEventListener js/window "mouseup" on-up))]

          (.addEventListener js/window "mousemove" on-move)
          (.addEventListener js/window "mouseup" on-up)))}]
     (str rank " " suit)]))
```

---

### ✅ Что умеет эта версия

✔ Берём карту мышкой
✔ Тянем — карта двигается под курсором
✔ Отпустили — карта остаётся на своём новом месте

Никаких зависимостей!
Просто Reagent + DOM events.

---

## 🚀 Улучшения, которые легко добавить

| Возможность                | Как сделать                    |
| -------------------------- | ------------------------------ |
| Слои (карта поверх других) | z-index, счётчик слоёв         |
| Повороты                   | CSS transform: rotate          |
| Перетаскивание в зоны      | Проверять координаты drop      |
| Touch-поддержка            | on-touch-start / on-touch-move |
| Анимация движения          | Position → CSS transition      |

Хочешь — сделаю **красивый UI** с бейсами карт 🎨

---

## ❓ Спрошу на будущее:

Какую конкретно игру ты планируешь?

1️⃣ Карточная (пасьянс, MTG, Uno …)?
2️⃣ Настольная (плитки, фишки, поля)?
3️⃣ Пошаговая стратегия?

И сколько карт может быть одновременно на столе?

Если расскажешь — спроектирую **правильную архитектуру** (Keystates, Event-bus, FSM для правил, стеки действий).

---

Хочешь — давай сделаем **рабочий прототип прямо здесь** 🧠⚡
С тебя идея игры — с меня код и анимации 💜
** ИИ 
мне интересно сделать кложур скрипт приложени на Keechma Симулятор табле топ и борд гейс.
тоесть должны быть компоненты карты, колоды, кости, тайлы.
они должны будут делатся на основе некоторого джейсон описания.
главный функционал скоторого нужно начать. Это возможность перетягивания компонетов.
это не плохо реализуется на реагенте.
но мне нужо и "перетягивать столь". Тость менять абсолютное значаенеи коорднат, но некому бесконечному столоу.
иметь возможно приближать и удолять камеру к столу.
и тут возникает вопрос не проще ли будет это реализовать на канве?
или можно изменить копоненты реагента чтоб они так себя вели?
помоги выбрать наилучшее решение.
** Konva.js
Отличный вопрос — и очень уместный для симулятора настолок, потому что именно сочетание **интерактивности (drag-n-drop)** и **“бесконечного стола” с масштабированием и панорамированием** ставит React/Reagent в довольно спорное положение.
Разберём по слоям, чтобы выбрать стратегию без компромиссов.

---

### 🔹 Что ты хочешь построить

> Keechma-приложение (архитектурный фреймворк на Reagent/Re-frame основе)
> с JSON-описываемыми компонентами (карты, колоды, кости, тайлы),
> которые можно перетаскивать, масштабировать и двигать в “бесконечном столе”.

Это ставит задачу на **рендеринг** (Canvas vs DOM) и **архитектуру взаимодействий** (drag, zoom, pan, snapping и т.д.)

---

### 🔹 Вариант 1: Чисто Reagent (DOM + CSS transforms)

✅ **Плюсы:**

  * Максимальная интеграция с Keechma (state, subscriptions, commands и т.п.).
  * Drag-n-drop можно сделать через `react-dnd` или `interact.js`.
  * “Камеру” (пан и зум) можно реализовать через CSS `transform: translate() scale()` на контейнере “стола”.

🚫 **Минусы:**

  * Производительность начнёт страдать, если на столе десятки/сотни компонентов (DOM-ноды дорогие).
  * При зуме и пане легко словить артефакты с hit-тестами (drag перестаёт совпадать с реальными координатами).
  * Реализация плавного перемещения/инерции — геморрой.

💡 **Итого:** подходит, если стол компактный и взаимодействий немного (до 100 объектов).

---

### 🔹 Вариант 2: Canvas (через Reagent компонент с `canvas` API)

✅ **Плюсы:**

  * Лёгкий рендеринг даже при сотнях объектов.
  * Зум и пан — естественны, ты просто меняешь `ctx.scale` и `ctx.translate`.
  * Проще реализовать “бесконечность стола” и эффекты (тени, подсветки, слои).
  * Можно использовать библиотеку вроде [Konva.js](https://konvajs.org/) (есть [react-konva](https://github.com/konvajs/react-konva), которую можно обернуть в Reagent).

  🚫 **Минусы:**

  * Нужно вручную писать логику выделения/drag-n-drop (hit testing).
  * Сложнее интеграция с типичным Keechma flow (состояние придётся хранить отдельно и синхронизировать).

💡 **Итого:** идеален, если тебе важны производительность, реалистичная физика и масштабируемость “мира”.

---

### 🔹 Вариант 3: Гибрид (DOM UI + Canvas стол)

Используется во многих современных tabletop симуляторах (веб-вариантах):

  * Canvas для “мира” (игрового поля, объектов, перемещений, зума).
  * React/Reagent DOM-оверлей для интерфейса, меню, диалогов, панелей.

💡 Это **золотая середина**:

  * Canvas рендерит контент.
  * Reagent управляет состоянием (Keechma orchestration, JSON → объекты).
  * UI остаётся декларативным, а физика и движение — нативно быстрыми.

---

### 🔹 Рекомендация

Для твоей цели:

> “симулятор настолки с перетаскиванием, зумом и бесконечным столом”

✅ **Оптимальный выбор:**
**Hybrid → Reagent + Konva.js (через react-konva)**

  * Ты можешь хранить всё описание в Keechma’s `EDB` и генерировать объекты на Canvas.
  * Реализовать drag-n-drop и зум можно за вечер (Konva даёт готовые обработчики).
  * Панорамирование/масштаб — встроены.
  * Добавление анимации и визуальных эффектов (например, бросок кости) элементарно.

---

Хочешь — я покажу минимальный пример “Keechma + Reagent + react-konva” проекта,
где можно:

  * двигать объекты (drag),
  * зумить колесом,
  * и перемещать сам “стол” (pan)?

Это даст тебе стартовую точку для будущего симулятора.
** Что делает Konva.js

Отличный вопрос — Konva.js — это не просто библиотека, а, можно сказать, **“React для Canvas”**, только заточенный под **интерактивную 2D-графику**, типа твоего “настольного симулятора”.

---

### 🔹 Что делает Konva.js

**Konva.js** — это JavaScript-библиотека для работы с HTML5 Canvas,
которая добавляет:

  * **Сцену (Stage)** и **слои (Layers)** — как в графических редакторах.
  * **Объекты (Shapes)**: прямоугольники, изображения, текст, группы.
  * **События**: `onClick`, `onDragMove`, `onMouseOver`, и даже `onWheel`.
  * **Трансформации**: `x`, `y`, `scaleX`, `rotation` — всё управляется как свойства React-компонента.
  * **Хит-тестинг** и **drag-and-drop** реализованы внутри — тебе не нужно вручную вычислять попадания курсора по пикселям.

---

### 🔹 Пример “Hello Konva”

Вот насколько прост пример:

```clojure
(ns my-game.core
  (:require ["react-konva" :refer [Stage Layer Rect]]))

(defn canvas-view []
  [:> Stage {:width 800 :height 600}
   [:> Layer {}
    [:> Rect {:x 50 :y 60
              :width 100 :height 100
              :fill "red"
              :draggable true
              :onClick #(js/alert "clicked!")}]]])
```

💡 `[:> ...]` — это синтаксис Reagent для вставки React-компонентов.
Тут:

  * `Stage` — это “сцена”, аналог твоего “стола”.
  * `Layer` — слой (их можно несколько, как “фоны”, “карты”, “фишки”).
  * `Rect` — объект, который можно двигать и с которым можно взаимодействовать.

---

### 🔹 Почему он идеален для tabletop

| Возможность                           | Реализация в Konva                                            |
| ------------------------------------- | ------------------------------------------------------------- |
| Перетаскивание (drag-and-drop)        | `:draggable true`                                             |
| Зум и панорама                        | слушатель `onWheel` + `stage.scale()` и `stage.position()`    |
| “Бесконечный стол”                    | можно просто двигать `stage` или подгружать тайлы динамически |
| Отрисовка сотен объектов              | Canvas-рендеринг, без DOM overhead                            |
| Группы (например, колода карт)        | `Group` компонент                                             |
| Эффекты (тени, прозрачность, фильтры) | встроенные свойства и фильтры                                 |

---

### 🔹 Бонус — React-совместимость

Есть официальная обёртка **[react-konva](https://konvajs.org/docs/react/index.html)**,
поэтому ты можешь использовать её прямо в **Reagent / Keechma** без боли.
Всё декларативно и реагирует на изменение состояния, как обычный компонент.

---

### 🔹 Итого

> 💬 **Konva.js** — это движок, который делает Canvas интерактивным и “реактивным”.
>
> ⚙️ Подходит идеально для твоего tabletop симулятора, где всё должно двигаться, масштабироваться и не тормозить.

---

Хочешь, я покажу рабочий пример на **Reagent + react-konva**,
где можно и **перетаскивать фигуры**, и **зумить колесом**, и **двигать “стол”** мышью — как в настоящем настольном симуляторе?
** React-Konva вписывается в Reagent/Keechma стек
Да 😎 — **оно прекрасно вписывается в твой Reagent/Keechma стек**, потому что `react-konva` — это обычные React-компоненты,
а Reagent умеет рендерить *любой* React-компонент через стандартный хикаповый синтаксис.

Так что да — **ты можешь использовать Hiccup как обычно** и спокойно **форвардить компоненты** из Keechma/Reagent в `react-konva`.
Давай разберём это чуть глубже, чтобы не оставалось “магии”.

---

### 🔹 1. React-Konva — это просто React-компоненты

Например, в JS они выглядят так:

```jsx
<Stage>
  <Layer>
    <Rect x={10} y={10} width={100} height={100} draggable={true} />
  </Layer>
</Stage>
```

---

### 🔹 2. В Reagent (и Keechma) ты пишешь то же самое в Hiccup

Reagent имеет спец-форму `:>` для вставки нативного React-компонента.

```clojure
(ns myapp.ui.board
  (:require ["react-konva" :refer [Stage Layer Rect]]))

(defn board []
  [:> Stage {:width 800 :height 600}
   [:> Layer {}
    [:> Rect {:x 50 :y 50
              :width 100 :height 100
              :fill "skyblue"
              :draggable true
              :onClick #(js/console.log "Clicked!")}]])
```

💡 Здесь `:>` означает “используй этот компонент напрямую”,
а все `props` (`:width`, `:height`, `:fill`, `:onClick`) передаются 1:1.

---

### 🔹 3. Keechma-интеграция — нативная

Keechma работает на Reagent-компонентах, поэтому `react-konva`
можно использовать **прямо внутри Keechma views**.

Например:

```clojure
(ns app.ui.main
  (:require
   [keechma.ui-component :as ui]
   ["react-konva" :refer [Stage Layer Circle]]))

(defn render [ctx]
  [:div.game-container
   [:> Stage {:width 800 :height 600}
    [:> Layer {}
     [:> Circle {:x 100 :y 100
                 :radius 40
                 :fill "tomato"
                 :draggable true
                 :onDragMove
                   (fn [e]
                     (ui/dispatch ctx :move-token
                       {:x (.. e -target -x)
                        :y (.. e -target -y)}))}]]]])
```

💡 Здесь ты:

  * Используешь Keechma `ctx` как обычно.
  * Обрабатываешь события Konva (например `onDragMove`).
  * Диспатчишь команды Keechma (через `ui/dispatch`).

---

### 🔹 4. Да, можно “форвардить” компоненты

Ты можешь спокойно создавать свои `[:> Group]` или `[:> Rect]`
компоненты и прокидывать их как дочерние — как будто это обычный DOM:

```clojure
(defn card [props]
  [:> Group props
   [:> Rect {:width 60 :height 90 :fill "white" :stroke "black"}]
   [:> Text {:text (:title props) :x 5 :y 5 :fontSize 14}]])
```

А потом использовать:

```clojure
[:> Layer {}
 [card {:x 100 :y 100 :title "Ace of Spades"}]
 [card {:x 200 :y 120 :title "Queen of Hearts"}]]
```

То есть — да, **ты можешь форвардить свои Reagent-компоненты прямо в Canvas-иерархию Konva**, как будто это обычные React-компоненты.

---

### 🔹 5. Микс Keechma + JSON описаний

Ты даже можешь хранить JSON вроде:

```json
[
  {"type": "card", "x": 100, "y": 100, "title": "Ace"},
  {"type": "dice", "x": 300, "y": 150, "sides": 6}
]
```

и рендерить динамически:

```clojure
(for [item items]
  (case (:type item)
    "card" [card item]
    "dice" [dice item]))
```

Так ты получишь динамическое создание объектов на Canvas
по JSON-описаниям — как ты и хотел изначально.

---

Хочешь — я покажу тебе минимальный **Keechma + Reagent + react-konva** пример проекта,
где есть “стол”, перетаскиваемые карточки и камера (пан/зум)?
Можно прямо на базе skeleton’а Keechma.
** Идеальная структура tabletop-приложения
Отличный вопрос — и ты на самом деле уже мысленно стоишь **на границе двух миров**:
🧠 *декларативного Reagent/React UI* и 🎮 *императивного Canvas-мира Konva*.
Понять, где кончается одно и начинается другое — это ключ к красивой архитектуре tabletop-симулятора.

Давай аккуратно разделим роли, чтобы ты чётко видел, **где Reagent незаменим**, а где **Konva рулит**.

---

## 🔹 Где нужен **Reagent** (и значит Keechma)

Reagent остаётся твоим “мозгом” и “панелью управления”:

  * Управляет **состоянием** (Keechma EDB, subscriptions, commands).
  * Рисует **UI вне Canvas** — меню, панели, попапы, модалки, настройки, чаты, лог действий, селекторы колод и т.д.
  * Реализует **реактивную бизнес-логику** — например, если карта выложена на стол, Keechma обновляет её позицию, синхронизирует с сервером, триггерит анимации и т.д.
  * Хранит всё как **декларативное состояние**, а не императивные Canvas-команды.

💡 Проще говоря:

> Reagent/Keechma управляет “моделью игры”, а Konva только рисует текущее состояние этой модели.

---

## 🔹 Где нужен **Konva.js**

Konva — это твой **рендерер и физический слой**:

  * Всё, что **движется, перетаскивается, масштабируется**.
  * Всё, где важна **производительность** (Canvas быстрее DOM).
  * Всё, где UI должен быть “игровым”, а не “формовым”.

Примеры:

  * Карты, фишки, кости, тайлы, маркеры.
  * Стол с панорамой и зумом.
  * Анимации бросков, подсветки, столкновений и т.д.

---

## 🔹 Что проще не делать на Konva вручную

Konva — шикарен, но не стоит насиловать его для вещей, где React лучше.
Вот что **лучше оставить Reagent-у**:

| Задача                                        | Почему Reagent проще                                              |
| --------------------------------------------- | ----------------------------------------------------------------- |
| Меню, кнопки, тулбары, выпадашки              | DOM имеет готовую семантику, стили и фокус-менеджмент             |
| Настройки и формы                             | Реактивный state и input-контроль проще в React                   |
| Окна диалогов (“Save Game?”, “Invite Player”) | Keechma уже умеет управлять такими состояниями                    |
| Tooltip’ы, всплывающие подсказки              | DOM-оверлей проще позиционировать поверх Canvas                   |
| Серверное взаимодействие                      | Keechma commands/subscriptions — лучший способ для сетевой логики |

---

## 🔹 Где **Reagent и Konva должны работать вместе**

Там, где нужно реактивное управление Canvas-объектами.
Например:

```clojure
(defn card [ctx {:keys [x y title selected?]}]
  [:> Group {:x x :y y :draggable true
             :onClick #(ui/dispatch ctx :select-card title)}
   [:> Rect {:width 60 :height 90
             :fill (if selected? "gold" "white")
             :stroke "black"}]
   [:> Text {:text title :x 5 :y 5 :fontSize 14}]])
```

💡 Здесь Reagent рендерит Konva-объект,
но `selected?` берётся из **Keechma state** — т.е. UI остаётся декларативным.
Если `selected?` поменялся, Reagent сам обновит `fill`, не нужно руками перерисовывать Canvas.

---

## 🔹 Идеальная структура tabletop-приложения

```
Keechma (App state)
├── UI (Reagent)
│   ├── Панели, меню, модалки
│   └── HUD, настройки, чат
└── Scene (Konva)
    ├── Слой стола (background, grid)
    ├── Слой объектов (карты, кости, фигуры)
    └── Слой эффектов (highlight, selection)
```

📦 Вся логика — в Keechma.
🎨 Визуализация — в Konva.
🧩 Синхронизация — через Reagent.

---

## 🔹 Вывод

Используй Reagent:

  * как **архитектуру** (Keechma);
  * как **интерфейс** для всего вне игрового поля;
  * как **декларативную прослойку** к Konva.

Используй Konva:

  * как **рендеринг-движок** и **поведение** для объектов внутри поля.

---

Если хочешь, я покажу **живой пример архитектуры**
(с Keechma routes, EDB, Reagent views и react-konva сценой),
где есть панель инструментов (Reagent) и поле с перетаскиваемыми карточками (Konva)?
* Docs
** туториалс
*** konva
https://www.youtube.com/watch?v=iUm2wHHel4s

https://www.youtube.com/watch?v=VbhaiPFEnko

https://www.youtube.com/watch?v=19L5DbC2Ye4
** exempls
*** learn-reagent-free
**** path
/home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files
**** comment
Learn simple, clean, and robust way to build SPA (Single-Page Applications) with ClojureScript & Reagent. Build GIGGIN an app that shows local gigs. Step-by-step, component-by-component we'll learn how to build SPAs with ClojureScript. We'll work with remote API. Learn how easy it is to interop with JS and npm and much more … . This video course will take you from zero to deployment in a few afternoons.
Course files

The code in this repo is split into two folders - giggin - starting point of the videos (this is what you should open when you start to code along with the vidoes) and - increments - code for the start of each video (if you get lost somewhere along the way just copy the content of the video you are starting and continue).
**** Clone

$ git clone git@github.com:jacekschae/learn-reagent-course-files.git

$ cd learn-reagent-course-files/giggin/
**** Install dependesis

learn-reagent-course-files/giggin/ $ npm install

or with yarn

learn-reagent-course-files/giggin/ $ yarn install

Run development server

learn-reagent-course-files/giggin/ $ npm run dev

or with yarn

learn-reagent-course-files/giggin/ $ yarn dev
*** file worder-cljs-project.org
(find-file-other-frame "/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/worder/worder-cljs-project.org")
*** my-cljs-project.org
(find-file-other-frame "/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/my-cljs-project.org")
** brain
[[file:~/Dropbox/orgs/org-Brain/ClojureScript Idioms.org]]
[[file:~/Dropbox/orgs/org-Brain/ClojureScript Idioms.org::*link to turials][link to turials]]
* TODO
** DONE спросить ИИ про модальное окно
*** обесни пожалусто это код
почимо оно делает модальное окно?

*** src
**** src checkout_modal.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.components.checkout-modal
  (:require [reagent.core :as r]))

(defn checkout-modal
  []
  (let [modal (r/atom false)
        toggle-modal #(reset! modal %)]
    (fn
      []
      [:div.checkout-modal
       [:button.btn.btn--secondary
        {:on-click #(toggle-modal true)
         :style {:width "100%"}}
        "Checkout"]
       [:div.modal (when @modal {:class "active"})
        [:div.modal__overlay]
        [:div.modal__container
         [:div.modal__body
          [:div.payment
           [:img.payment-logo {:src "/img/paypal.svg" :alt "Paypal logo"}]
           [:img.payment-logo {:src "/img/stripe.svg" :alt "Stripe logo"}]]]
         [:div.modal__footer
          [:button.btn.btn--link.float--left
           {:on-click #(toggle-modal false)}
           "Cancel"]]]]])))
#+end_src
**** src style.css
***** all
#+begin_src css :no-expand t :mkdirp yes 
/* = reset ================================================================= */

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
        margin: 0;
        padding: 0;
        border: 0;
        font-size: 100%;
        font: inherit;
        vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section {
        display: block;
}
body {
        line-height: 1;
}
ol, ul {
        list-style: none;
}
blockquote, q {
        quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
        content: '';
        content: none;
}
table {
        border-collapse: collapse;
        border-spacing: 0;
}

/* apply a natural box layout model to all elements, but allowing views to change */
html {
  box-sizing: border-box;
}
*, *:before, *:after {
  box-sizing: inherit;
}

button:focus {
        outline:0;
}

/* = giggin ================================================================ */

:root {
  --primary: #021d49;
  --primary-alpha: rgba(2, 29, 73, 0.5);
  --secondary: #00ffb0;
        --secondary-alpha: rgba(0, 255,126, 0.5);
  --gray: #f6f6f6;
  --gray-alpha: rgba(246, 246, 246, 0.9);
  --black-color: #222223;
        --red-color: #ff4d4f
}

::selection {
  background: var(--secondary);
}

::-moz-selection {
  background: var(--secondary);
}

body, button {
  font-family: 'Poppins', sans-serif;
  font-size: 1.4rem;
        background: var(--gray);
  color: var(--primary)
}

.container {
  margin-left: auto;
  margin-right: auto;
  padding-left: .4rem;
  padding-right: .4rem;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  max-width: 1000px;
}

@media (min-width: 768px) {
  .container {
    display: grid;
    grid-template-columns: 0.7fr 0.3fr;
    grid-template-rows: auto 1fr auto;
  }
}

a {
  background-color: transparent; /* 1 */
  -webkit-text-decoration-skip: objects; /* 2 */
}

a:active,
a:hover {
  outline-width: 0;
}

a {
  color: var(--primary);
  outline: none;
  text-decoration: none;
}

a:focus,
a:hover,
a:active,
a.active {
  color: var(--secondary);
  text-decoration: underline;
}

header {
  grid-column: span 2;
  padding: 1vw;
  text-align: center;
}

header .btn {
  height: 4rem;
}

.logo {
  width: 25vw;
  min-width: 160px;
  max-width: 380px;
}

aside {
  flex: 2;
  padding: .4rem;
}

main {
  padding: .4rem;
}

footer {
  grid-column: span 2;
  padding: 30px;
  padding-left: 0px;
  text-align: left;
  font-size: 0.8em;
  vertical-align: middle;
}

footer img {
  max-width: 40px;
}

h1 {
  margin-bottom: 1em;
  font-size: 1.3em;
  font-weight: bold;
}

hr {
  border: 0;
  height: 0;
  border-top: 1px solid var(--gray);
  margin-bottom: 20px;
}

.payment {
        max-width: 400px;
  margin: 0 auto;
}

.payment-logo {
        padding-top: 6vh;
  width: 100%;
}

.float--right {
  float: right !important;
  padding: .8rem;
}
.float--left {
  float: left !important;
  padding: .8rem;
}

.gigs {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(185px, 1fr));
  grid-gap: 20px;
}

.gig {
  display: grid;
  grid-template-columns: 100px 1fr;
  grid-gap: 10px;
  border: .01rem solid #fff;
  background: #fff;
  display: flex;
  display: -ms-flexbox;
  -ms-flex-direction: column;
  flex-direction: column;
  border-top-left-radius: 6px;
  border-top-right-radius: 6px;
}

.gig .gig__body p {
  padding: .8rem;
  font-size: 1rem;
  line-height: 1.4;
}

.gig .gig__footer {
  padding: .8rem;
}

.gig .gig-header:last-child,
.gig .gig-body:last-child,
.gig .gig-footer:last-child {
  padding-bottom: .8rem;
}

.gig .gig-image {
  padding-top: .8rem;
}

.gig .gig-image:first-child {
  padding-top: 0;
}

.gig__artwork:first-child {
  border-top-left-radius: 6px;
  border-top-right-radius: 6px;
}

.gig {
  border-bottom-left-radius: 6px;
  border-bottom-right-radius: 6px;
}

.gig .gig__body .gig__title {
  padding: .8rem;
  padding-bottom: 0;
  font-size: 1rem;
  line-height: 1.4;
  font-size: 1.2rem;
        color: var(--secondary);
}

.gig .gig__body .gig__price {
  padding-top: .1rem;
  width: 100%;
  color: var(--primary-alpha);
}

.gig .gig__body .gig__desc {
  font-size: .8rem;
  padding-bottom: .8rem;
}

.gig__artwork {
  width: 100%;
}

.gig__edit {
  width: 100%;
  opacity: 1;
  transition: opacity 0.3s ease-in-out;
}

.gig__edit:hover {
  cursor:pointer;
  opacity: 0.4
}

.sold-out {
        border: .05rem solid var(--red-color);
  border-color: var(--red-color);
        background: #fff;
  color: var(--red-color);
  border-radius: 6px;
        font-size: .9rem;
        height: 2rem;
        padding: .45rem .6rem;
        line-height: 1rem;
  outline: none;
  text-align: center;
}

/* = Button = */

.btn {
  -webkit-appearance: none;
  -moz-appearance: none;
  background: #fff;
  border: .05rem solid var(--secondary);
  border-radius: 6px;
  color: var(--secondary);
  cursor: pointer;
  display: inline-block;
  line-height: 1rem;
  outline: none;
  text-align: center;
  text-decoration: none;
  transition: all .2s ease;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  vertical-align: middle;
  white-space: nowrap;
  font-size: .9rem;
  height: 2rem;
  padding: .45rem .6rem;
}

.btn:focus,
.btn:hover {
  background: var(--gray);
  border-color: var(--primary);
  text-decoration: none;
}

.btn[disabled],
.btn:disabled,
.btn.disabled {
  cursor: default;
  opacity: .5;
  pointer-events: none;
}

.btn.btn--primary {
  background: var(--primary);
  border-color: var(--primary);
  color: #fff;
}

.btn.btn--primary:focus,
.btn.btn--primary:hover {
  background: var(--secondary);
  border-color: var(--secondary);
  color: var(--primary);
}

.btn.btn--primary:active,
.btn.btn--primary.active {
  background: var(--primary);
  border-color: var(--primary);
  color: var(--secondary);
}

.btn.btn--secondary {
  background: var(--secondary);
  border-color: var(--secondary);
  color: var(--primary);
}

.btn.btn--secondary:focus,
.btn.btn--secondary:hover {
  background: var(--primary);
  border-color: var(--primary);
  color: var(--gray);
}

.btn.btn--secondary:active,
.btn.btn--secondary.active {
  background: var(--primary);
  border-color: var(--primary);
  color: var(--secondary);
}

.btn.btn--link {
  background: transparent;
  border-color: transparent;
  color: var(--primary);
}

.btn.btn--link:focus,
.btn.btn--link:hover,
.btn.btn--link:active,
.btn.btn--link.active {
  color: var(--secondary);
}

.btn.btn--clear {
  background: transparent;
  border: 0;
  color: currentColor;
  height: .8rem;
  line-height: .8rem;
  margin-left: .2rem;
  margin-right: -2px;
  opacity: 1;
  padding: 0;
  text-decoration: none;
  width: .8rem;
}

.btn.btn--clear:hover {
  color: #00ffb9;
  opacity: .95;
}

.btn.btn--clear::before {
  content: "\2715";
}

.btn .icon {
  vertical-align: -10%;
}

/* = Icon = */

.icon {
  box-sizing: border-box;
  display: inline-block;
  font-size: inherit;
  font-style: normal;
  height: 1em;
  position: relative;
  text-indent: -9999px;
  vertical-align: middle;
  width: 1em;
}

.icon::before,
.icon::after {
  display: block;
  left: 50%;
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
}

.icon--forward::before {
  border: 1px solid currentColor;
  border-bottom: 0;
  border-right: 0;
  content: "";
  height: .62em;
  width: .62em;
}

.icon--forward::after {
  background: currentColor;
  content: "";
  height: 13px;
  width: 1px;
}

.icon--forward::after {
  left: 46%;
}

.icon--forward::before {
  transform: translate(-50%, -50%) rotate(135deg);
}

.icon--plus::before,
.icon--cross::before {
  background: currentColor;
  content: "";
  height: 1px;
  width: 100%;
}

.icon--plus::after,
.icon--cross::after {
  background: currentColor;
  content: "";
  height: 100%;
  width: 1px;
}

.icon--cross::before {
  width: 100%;
}

.icon--cross::after {
  height: 100%;
}

.icon--cross::before,
.icon--cross::after {
  transform: translate(-50%, -50%) rotate(45deg);
}

.icon--delete::before {
  border: 1px solid currentColor;
  border-bottom-left-radius: .1rem;
  border-bottom-right-radius: .1rem;
  border-top: 0;
  content: "";
  height: .65em;
  top: 60%;
  width: .75em;
}

.icon--delete::after {
  background: currentColor;
  box-shadow: -.25em .2em, .25em .2em;
  content: "";
  height: 1px;
  top: .05rem;
  width: .55em;
}

/* = Tooltip = */

.tooltip {
  position: relative;
}

.tooltip::after {
  background: rgba(69, 77, 93, .9);
  border-radius: 6px;
  color: #fff;
  content: attr(data-tooltip);
  display: block;
  font-size: .8rem;
  max-width: 320px;
  opacity: 0;
  overflow: hidden;
  padding: .3rem .5rem;
  pointer-events: none;
  position: absolute;
  text-overflow: ellipsis;
  transform: translate(-50%, .4rem);
  transition: all .2s ease;
  white-space: pre;
  z-index: 300;
        bottom: 50%;
  left: auto;
  right: 100%;
  transform: translate(.4rem, 50%);
}

.tooltip:focus::after,
.tooltip:hover::after {
  opacity: 1;
  transform: translate(-.2rem, 50%);
}

.tooltip[disabled],
.tooltip.disabled {
  pointer-events: auto;
}

/* = Orders =*/

.order {
  border: .05rem solid var(--gray);
  border-radius: 6px;
  display: flex;
  display: -ms-flexbox;
  -ms-flex-direction: column;
  flex-direction: column;
        background: #fff;
}

.order .total {
  -ms-flex: 0 0 auto;
  flex: 0 0 auto;
  padding: .8rem;
  font-size: 1.1rem;
}

.order .order-nav {
  -ms-flex: 0 0 auto;
  flex: 0 0 auto;
}

.order .body {
  -ms-flex: 1 1 auto;
  flex: 1 1 auto;
  padding: .6rem .8rem;
  padding-bottom: 0;
}

/* = admin-panel = */
.admin-panel {
  border: .05rem solid var(--gray);
  border-radius: 6px;
  display: flex;
  display: -ms-flexbox;
  -ms-flex-direction: column;
  flex-direction: column;
        -ms-flex: 0 0 auto;
  flex: 0 0 auto;
  padding: .8rem;
  font-size: 1.1rem;
        margin-bottom: 1rem;
        background: #fff;
}


/* = item = */

.item {
  align-content: space-between;
  align-items: center;
  display: flex;
  display: -ms-flexbox;
  -ms-flex-align: center;
  -ms-flex-line-pack: justify;
  /* visibility: hidden; */
}

.item .action {
  -ms-flex: 0 0 auto;
  flex: 0 0 auto;
}

.item .action .price {
        -webkit-appearance: none;
  -moz-appearance: none;
  background: #fff;
  display: inline-block;
  line-height: 1rem;
  outline: none;
  text-align: center;
  text-decoration: none;
  transition: all .2s ease;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  vertical-align: middle;
  white-space: nowrap;
  font-size: .9rem;
  height: 2rem;
  padding: .45rem .6rem;
        background: transparent;
  border-color: transparent;
  color: var(--primary);
        cursor: default;
        opacity: .5;
        pointer-events: none;
}

.item img {
  margin: .4rem .4rem .4rem .2rem;
  border-radius: 4px;
  max-width: 30px;
}

.item .content {
  -ms-flex: 1 1 auto;
  flex: 1 1 auto;
}

.item .title {
  -ms-flex: 1 1 auto;
  flex: 1 1 auto;
  -webkit-margin-before: 0px;
  line-height: 1rem;
  font-size: .9rem;
}

.item .sold-out {
  -ms-flex: 1 1 auto;
  flex: 1 1 auto;
  -webkit-margin-before: 0px;
  line-height: 1rem;
  font-size: .9rem;
        color: var(--red-color);
}

.item.item-centered .title,
.item.item-centered .item-subtitle {
  margin-bottom: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* = empty =*/

.empty {
  background-color: #fff;
  border: .05rem solid #fff;
  color: var(--primary-alpha);
  border-radius: 6px;
  padding: 3.2rem 1.6rem;
  text-align: center;
}

.empty .title,
.empty .subtitle {
  margin: .8rem auto;
}

.empty .subtitle {
  font-size: .9rem;
}

/* = add-event =*/
.add-gig {
  border: .05rem solid #fff;
  background-color: #fff;
  color: var(--secondary);
  border-radius: 6px;
  padding: 3.2rem 1.6rem;
  text-align: center;
  opacity: 0.4;
}

.add-gig:hover {
  cursor: pointer;
  border-radius: 6px;
  padding: 3.2rem 1.6rem;
  text-align: center;
  opacity: 1;
  transition: opacity 0.3s ease-in-out;
}

.add-gig .add__title {
  margin: .8rem auto;
}

/* = modal = */

.checkout-modal {
        margin-top: 20px;
}

.checkout {
  min-height: 75%;
  max-width: 400px;
  margin: 0 auto;
}

.modal {
  align-items: center;
  bottom: 0;
  display: none;
  -ms-flex-align: center;
  -ms-flex-pack: center;
  justify-content: center;
  left: 0;
  opacity: 0;
  overflow: hidden;
  padding: .4rem;
  position: fixed;
  right: 0;
  top: 0;
}

.modal:target,
.modal.active {
  display: flex;
  display: -ms-flexbox;
  opacity: 1;
  z-index: 400;
}

.modal:target .modal__overlay,
.modal.active .modal__overlay {
  background: var(--gray);
  bottom: 0;
  cursor: default;
  display: block;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
}

.modal:target .modal__container,
.modal.active .modal__container {
        box-shadow: none;
  max-width: 960px;
  width: 100%;
  z-index: 1;
}

.modal__container {
  background: var(--gray);
  border-radius: 1rem;
  box-shadow: 0 .2rem .5rem rgba(69, 77, 93, .3);
  display: block;
  padding: 0 .8rem;
  text-align: left;
}

.modal__container .modal__header .modal__title {
  color: var(--primary);
  background: #fff;
}

@media (min-width: 768px) {
  .modal__container .modal__body {
    min-height: 450px;
  }
  .modal__container .modal__body .checkout {
    padding-top: 4rem;
  }
}

.modal__container .modal__body {
  max-height: 66vh;
  overflow-y: auto;
  padding: .4rem;
  position: relative;

}

.modal__container .modal__footer {
  padding-bottom: 1.2rem;
  text-align: right;
}

@media (max-width: 768px) {
  .modal__container .modal__header {
    position: fixed;
    top: 1.4rem;
    right: 1.8rem;
    left: 1.8rem;
    background-color: #fff;
  }

  .modal__container .modal__footer {
    position: fixed;
    bottom: .4rem;
    right: 1.8rem;
    left: 1.8rem;
  }
}


.step {
  display: flex;
  display: -ms-flexbox;
  -ms-flex-wrap: nowrap;
  flex-wrap: nowrap;
  list-style: none;
  margin: .2rem 0;
  width: 100%;
}

.step .step__item {
  -ms-flex: 1 1 0;
  flex: 1 1 0;
  margin-top: 0;
  min-height: 1rem;
  position: relative;
  text-align: center;
}

.step .step__item:not(:first-child)::before {
  background: var(--secondary);
  content: "";
  height: 1px;
  left: -50%;
  position: absolute;
  top: 7px;
  width: 100%;
}

.step .step__item a {
  color: var(--primary-alpha);
  display: inline-block;
  padding: 20px 10px 0;
  text-decoration: none;
  background: #fff;
}

.step .step__item a::before {
  background: var(--secondary);
  border: .1rem solid #fff;
  border-radius: 50%;
  content: "";
  display: block;
  height: 10px;
  left: 50%;
  position: absolute;
  top: 3px;
  transform: translateX(-50%);
  width: 10px;
  z-index: 1;
}

.step .step__item.active a::before {
  background: #fff;
  border: .1rem solid var(--secondary);
}

.step .step__item.active ~ .step__item::before {
  background: var(--gray);
}

.step .step__item.active ~ .step__item a::before {
  background: var(--gray);
}

/* =form= */

.form__group:not(:last-child) {
  margin-bottom: .4rem;
}

.form__label {
        color: var(--primary);
  display: block;
  line-height: 1rem;
  padding: .4rem 0;
        margin-top: .6rem;
  font-size: .8rem;
}

.form__input {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background: #fff;
  background-image: none;
  border: .05rem solid #d3d3d3;
  border-radius: 6px;
  color: var(--primary);
  display: block;
  font-size: .8rem;
  height: 1.8rem;
  line-height: 1rem;
  max-width: 100%;
  outline: none;
  padding: .35rem .4rem;
  position: relative;
  transition: all .2s ease;
  width: 100%;
}

.form__input:focus {
  border-color: var(--secondary);
  box-shadow: 0 0 0 .2rem rgba(00, 255, 176, .5);
}

.form__input::-webkit-input-placeholder {
  color: #d3d3d3;
}

.form__input:-ms-input-placeholder {
  color: #d3d3d3;
}

.form__input::placeholder {
  color: #d3d3d3;
}

textarea.form__input {
  height: auto;
}

.form__switch {
  display: inline-block;
  line-height: 1rem;
  margin: .2rem 0;
  min-height: 1.2rem;
  padding: .2rem .4rem .2rem 1.2rem;
  position: relative;
}

.form__switch input {
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  position: absolute;
  width: 1px;
}

.form__switch input:focus + .form__icon {
  border-color: var(--secondary);
}

.form__switch input:checked + .form__icon {
  background: var(--secondary);
  border-color: var(--secondary-alpha);
}

.form__switch .form__icon {
  border: .05rem solid var(--secondary);
  cursor: pointer;
  display: inline-block;
  position: absolute;
  transition: all .2s ease;
        font-size: .8rem;
}

.form__switch.input-lg {
  font-size: .9rem;
  margin: .3rem 0;
}

.form__switch {
  padding-left: 2rem;
}

.form__switch .form__icon {
  background: var(--gray);
  background-clip: padding-box;
  border-radius: 50px;
  height: 22px;
  left: 0;
  top: 4px;
  width: 42px;
}

.form__switch .form__icon::before {
  background: #fff;
  border-radius: 50%;
  content: "";
  display: block;
  height: 20px;
  left: 1px;
  position: absolute;
  top: 0px;
  transition: all .2s ease;
  width: 20px;
}

.form__switch input:checked + .form__icon::before {
  left: 20px;
}

.form__switch input:active + .form__icon::before {
  background: #f8f9fa;
}


/* = avatar = */

figure {
  display: block;
}

.avatar {
  display: inline-block;
  margin: 0;
  vertical-align: middle;
  height: 2rem;
  width: 2rem;
}

.avatar img {
  border-radius: 50%;
  height: 100%;
  width: 100%;
  z-index: 1;
}
#+end_src
** TODO Дотренировать приложение до конца
* DONE arhiv
** DONE пройти по видео7
** DONE пройти по видео8
** DONE Запуска сервера

(buyn-shell-start "konsole -e /bin/bash --rcfile <(npm run dev)")

"konsole -e /bin/bash --rcfile <(npm run dev)"
я запускаю сервер в отдельном терменальном окне такой командой.
серевер запускается но похоже в какомто другом процесе. сервер работает но сообщение в это окно терменала на приходят.
есть идеи как это поправить?
** DONE пройти по видео10
*** DONE сделать отдельный фаил хелпер
*** DONE сделать формат цен
*** DONE приминить к ордерс х2
*** DONE приминить к гигс
*** неотображать если пустое
*** 
** DONE изчать видео
** DONE push to git
** DONE открыть проект
** DONE установить зависимости
** DONE запустить проек
** DONE настроить проект 
** DONE error
*** src
(ns giggin.core.components.gigs)

(defn gigs
  []
  [:gigs "gigs"])
  ;; [:header "header"]
  ;; [:orders "orders"]
  ;; [:footer "footer"]
*** error
(require '[giggin.core.components.gigs :refer [gigs]])

------ REPL Error while processing ---------------------------------------------
(require '[giggin.core.components.gigs :refer [gigs]])
The required namespace "giggin.core.components.gigs" is not available, it was required by "giggin/core.cljs".

nil
giggin.core> 
*** почему ловлю ошибку?
помоги понять причину ошибки в Shadow-CLJS репл.

** DONE error web
*** src
**** file gigs.cljs
(find-file-other-frame "./src/giggin/components/gigs.cljs")
**** src gigs.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.core.components.gigs)

(defn gigs
  []
  [:gigs "gigs"])
  ;; [:header "header"]
  ;; [:orders "orders"]
  ;; [:footer "footer"]



#+end_src

#+RESULTS:
: Please reevaluate when nREPL is connected

**** file core.cljs
(find-file-other-frame "./src/giggin/core.cljs")
**** src core.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.core
  (:require [reagent.core :as r]
            [giggin.core.components.gigs :refer [gigs]]))

(defn app
  []
  [:div.container
   [:header "header"]
   ;; [:gigs "gigs"]
   [gigs]
   [:orders "orders"]
   [:footer "footer"]])

(defn ^:export main
  []
  (r/render
    [app]
    (.getElementById js/document "app")))


#+end_src

#+RESULTS:
: Please reevaluate when nREPL is connected
*** error
Compilation failed!

The required namespace "giggin.core.components.gigs" is not available, it was required by "giggin/core.cljs".
*** почему ловлю ошибку?
помоги понять причину ошибки в Shadow-CLJS в браузере эта ошибка тоже есть.
** DONE git clone в кложур
git clone https://github.com/jacekschae/learn-reagent-course-files.git
git clone git@github.com:jacekschae/learn-reagent-course-files.git

https://github.com/jacekschae/learn-reagent-course-files?tab=readme-ov-file
/home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files
** DONE сделать проект в туториале
/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/giggin

скопироваров из [[*git clone в кложур][git clone в кложур]]
/home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files
/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/giggin
** DONE сделать орг learn-reagent-free
** DONE в туторал
** DONE сделать сылку в туторалс
** DONE суопировать и настроить орг
можно взять за основу пустой
если его нет
склонить
внести измения в орг
* backlog
* project comands
:PROPERTIES:
:header-args: :tangle no
:END:
** diff dirs recersiv
cd /home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/
diff -r 14-gig-editor 15-save-gig
/home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/15-save-gig

02-app-setup           09-remove-from-order   14-gig-editor     19-ajax-transformations  24-firebase-auth     complete
05-displaying-gigs     10-order-total         15-save-gig       20-firebase-setup        25-sign-in-sign-out  
06-list-comprehension  11-format-price        16-update-gig     21-firebase-database     26-security-rules    
07-add-to-order        12-refactor-functions  17-refactor-gigs  22-subscribe             28-performance-url   
08-for-over-orders     13-checkout-modal      18-ajax-requests  23-sold-out              29-tips-and-tricks   

/home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/12-refactor-functions
/home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/13-checkout-modal
diff -r dir1 dir2

** поиск по проекту
*** 
**** dropbox in org
#+begin_src sh  
grep --include=\*.cljs -rnw ./ -e ":todos-by-status"
#+end_src       

#+RESULTS:
| ./src/keechma_todomvc/components/todo_list.cljs:18:-                     | `:todos-by-status` | returns           | `todos`         | with  | a   | `status`         |                    |
| ./src/keechma_todomvc/components/todo_list.cljs:26:                      | (doall             | (map              | todo-item       | (sub> | ctx | :todos-by-status | route-status)))])) |
| ./src/keechma_todomvc/components/todo_list.cljs:31:                      | :subscription-deps | [:todos-by-status |                 |       |     |                  |                    |
| ./src/keechma_todomvc/subscriptions.cljs:48:(def                         | subscriptions      | {:todos-by-status | todos-by-status |       |     |                  |                    |
| ./resources/public/js/dev/keechma_todomvc/components/todo_list.cljs:18:- | `:todos-by-status` | returns           | `todos`         | with  | a   | `status`         |                    |
| ./resources/public/js/dev/keechma_todomvc/components/todo_list.cljs:26:  | (doall             | (map              | todo-item       | (sub> | ctx | :todos-by-status | route-status)))])) |
| ./resources/public/js/dev/keechma_todomvc/components/todo_list.cljs:31:  | :subscription-deps | [:todos-by-status |                 |       |     |                  |                    |
| ./resources/public/js/dev/keechma_todomvc/subscriptions.cljs:48:(def     | subscriptions      | {:todos-by-status | todos-by-status |       |     |                  |                    |


**** dropbox in org
#+begin_src sh  
grep --include=\*.cljs -rnw ./ -e "reagent.core"
#+end_src       

#+RESULTS:
| ./src/keechma_todomvc/components/new_todo.cljs:5:                          | [reagent.core    | :as             | reagent])) |         |        |           |
| ./target/public/cljs-out/dev/reagent/core.cljs:1:(ns                       | reagent.core     |                 |            |         |        |           |
| ./target/public/cljs-out/dev/reagent/core.cljs:2:                          | (:require-macros | [reagent.core]) |            |         |        |           |
| ./target/public/cljs-out/dev/keechma_todomvc/components/new_todo.cljs:5:   | [reagent.core    | :as             | reagent])) |         |        |           |
| ./target/public/cljs-out/dev/keechma_todomvc/components/todo_edit.cljs:5:  | [reagent.core    | :as             | reagent])) |         |        |           |
| ./target/public/cljs-out/dev/keechma/app_state/react_native_router.cljs:3: | [reagent.core    | :as             | r]         |         |        |           |
| ./target/public/cljs-out/dev/keechma/app_state.cljs:2:                     | (:require        | [reagent.core   | :as        | reagent | :refer | [cursor]] |


** files other
find "$PWD" -type f >>filepath.txt

(find-file-other-frame "./README.md")
(find-file-other-frame "./figwheel_server.log")
** repl
*** run eshell in project root
clojure -M:fig:build
:cljs/quit
:cljs/restart

clj -M:dev
clojure -m cljs.main --compile my-cljs-project.core --repl


clojure -P
clojure -M:fig:clean
clojure -M:fig:build

#+begin_src elisp :results output silent :dir ./notes/
(evil-previous-line)
(org-cycle)
(delete-other-windows)
(let (buffer-name-to-close (buffer-name))
        (evil-window-split)
        (eshell)
        (evil-quit)
        (switch-to-buffer-other-frame buffer-name-to-close))
#+end_src

      ;; (execute-kbd-macro "A \C-m")
*** run eshell in org root
clj -M:dev
clojure -m cljs.main --compile my-cljs-project.core --repl
#+begin_src elisp :results output silent
(evil-previous-line)
(org-cycle)
(delete-other-windows)
(let (buffer-name-to-close (buffer-name))
        (evil-window-split)
        (eshell)
        (evil-quit)
        (switch-to-buffer-other-frame buffer-name-to-close))
#+end_src

      ;; (execute-kbd-macro "A \C-m")
*** run repl
clj -M:dev
clojure -m cljs.main --compile my-cljs-project.core --repl

clojure -M:fig:build
:cljs/quit
:cljs/restart
#+begin_src eshell
clj -m cljs.main --compile my-cljs-project.core --repl


#+end_src

#+RESULTS:
*** repl commands
:cljs/quit
*** repl test
(js/alert "Am I connected?")
** new project
clj -X:new :template figwheel-main :name learn-cljs/notes :args '["+deps" "--reagent"]'

{:deps {org.clojure/clojure {:mvn/version "1.10.0"}
        org.clojure/clojurescript {:mvn/version "1.10.773"}
        reagent/reagent {:mvn/version "1.0.0"}
        funcool/bide {:mvn/version "1.6.0"}
        camel-snake-kebab/camel-snake-kebab {:mvn/version "0.4.2"}}

$ clj -X:new :template figwheel-main :name learn-cljs/weather :args 
[[file:~/Dropbox/orgs/org-Brain/ClojureScript Idioms.org::*2025-09-04T11:12:30+03:00][2025-09-04T11:12:30+03:00]]
** cider
If you have a Clojure project in your file system and want CIDER to launch an nREPL session for it, simply visit a file that belongs to the project, and type M-x cider-jack-in RET.[1] CIDER will start an nREPL server and automatically connect to it.
  In Clojure(Script) buffers the command cider-jack-in is bound to C-c C-x (C-)j (C-)j. 

** console
*** run console in org root
clj -M:dev
clojure -m cljs.main --compile my-cljs-project.core --repl
#+begin_src elisp :results output silent
(buyn-shell-start "konsole")
(evil-previous-line)
(org-cycle)
(delete-other-windows)
#+end_src

*** run console with command
#+begin_src elisp :results output silent
(buyn-shell-start "konsole -e /bin/bash --rcfile <(clj -M:dev)")
(evil-previous-line)
(org-cycle)
(delete-other-windows)
#+end_src

** auto-tangle-block:
#+NAME: auto-tangle-block
#+begin_src emacs-lisp :results output silent :tangle no
(setq org-src-preserve-indentation t)
(untabify (point-min) (point-max))
(save-buffer)
;; (universal-argument)
;; (universal-argument)
(org-babel-tangle)
(evil-close-fold)
(evil-close-fold)
;; (find-file-other-frame "reagent-test/src/learn_cljs/reagent_test.cljs")
;; (find-file-other-frame "~/INI/hydra-cfg.el")
;; (load "~/INI/hydra-cfg.el")
;; (load "~/ELs/BuYn/reader.el")
 #+end_src
* 2025-11-17
** giggin.org
(find-file-other-frame "~/Dev/ClojureScript/tutorials/my-cljs-project/giggin/giggin.org")
** Necroteuch.org:
#+begin_src emacs-lisp :tangle no
(find-file-other-frame "~/../Dropbox/orgs/capture/Necroteuch.org")
#+end_src
