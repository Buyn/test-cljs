:PROPERTIES:
:header-args: :tangle no :mkdirp yes :results output silent :no-expand t
:END:
* src giggin
** src project
*** other
(find-file-other-frame "./.gitignore")
(find-file-other-frame "./package.json")
(find-file-other-frame "./shadow-cljs.edn")
(find-file-other-frame "./giggin.org")
** src core
*** core.cljs
:PROPERTIES:
:header-args: :tangle ./src/giggin/core.cljs
:END:
**** file core.cljs
(find-file-other-frame "./src/giggin/core.cljs")
**** src core.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.core
  (:require [reagent.core :as r]
            [giggin.components.gigs :refer [gigs]]
            [giggin.components.header :refer [header]]
            [giggin.components.orders :refer [orders]]
            [giggin.components.footer :refer [footer]]))

(defn app
  []
  [:div.container
   [header]
   [gigs]
   [orders]
   [footer]])

(defn ^:export main
  []
  (r/render
    [app]
    (.getElementById js/document "app")))


#+end_src

#+RESULTS:
: Please reevaluate when nREPL is connected
**** reple
(in-ns 'giggin.core)
app
(app)
(require '[giggin.components.gigs :refer [gigs]])
*** other
(find-file-other-frame "./src/giggin/state.cljs")
** components
*** gigs.cljs
:PROPERTIES:
:header-args: :tangle ./src/giggin/components/gigs.cljs
:END:
**** file gigs.cljs
(find-file-other-frame "./src/giggin/components/gigs.cljs")
**** src gigs.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.components.gigs
  (:require [giggin.state :as state ]))

(defn gig
  [gig]
  [:div.gig {:key (:id gig)}
    [:img.gig__artwork {:src (:img gig) :alt (:title gig)}]
    [:div.gig
      [:div.title (:title gig)]
      [:div.desc (:desc gig)]]
   ])

(defn gigs
  []
  [:main
    [:div.gigs (map gig (vals @state/gigs))]])



#+end_src

#+RESULTS:
: Please reevaluate when nREPL is connected
*** header.cljs
:PROPERTIES:
:header-args: :tangle ./src/giggin/components/header.cljs
:END:
**** file header.cljs
(find-file-other-frame "./src/giggin/components/header.cljs")
**** src header.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.components.header)

(defn header
  []
  [:header
   [:img {:src "img/giggin-logo.svg" :alt "Giggin logo"}]])

#+end_src

#+RESULTS:
: Please reevaluate when nREPL is connected
*** orders.cljs
:PROPERTIES:
:header-args: :tangle ./src/giggin/components/orders.cljs
:END:
**** file orders.cljs
(find-file-other-frame "./src/giggin/components/orders.cljs")
**** src orders.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.components.orders)

(defn orders
  []
  [:orders "orders"])



#+end_src

#+RESULTS:
: Please reevaluate when nREPL is connected
*** footer.cljs
:PROPERTIES:
:header-args: :tangle ./src/giggin/components/footer.cljs
:END:
**** file footer.cljs
(find-file-other-frame "./src/giggin/components/footer.cljs")
**** src footer.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.components.footer)

(defn footer
  []
  [:footer "footer"])



#+end_src

#+RESULTS:
: Please reevaluate when nREPL is connected
*** exampls
/home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/29-tips-and-tricks/src/giggin/components/admin_panel.cljs /home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/29-tips-and-tricks/src/giggin/components/checkout_modal.cljs /home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/29-tips-and-tricks/src/giggin/components/footer.cljs /home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/29-tips-and-tricks/src/giggin/components/gig_editor.cljs /home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/29-tips-and-tricks/src/giggin/components/gigs.cljs /home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/29-tips-and-tricks/src/giggin/components/header.cljs /home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files/increments/29-tips-and-tricks/src/giggin/components/orders.cljs
** src resources
*** index.html
:PROPERTIES:
:header-args: :tangle ./public/index.html
:END:
**** file
(find-file-other-frame "./public/index.html")
**** src
#+begin_src html :no-expand t :mkdirp yes 
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/css/style.css" type="text/css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins" >
    <link rel="icon" href="/img/giggin-icon.png">
    <title>Giggin</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>

    <div id="app">
      Loding app...
    </div>

    <script src="/js/main.js" type="text/javascript"></script>
    <script>window.onload = function() { giggin.core.main(); }</script>
  </body>
</html>
#+end_src
**** exampl
(find-file-other-frame "/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/group-chat/resources/public/index.html")
(find-file-other-frame "~/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/index.html")

*** style.css
:PROPERTIES:
:header-args: :tangle ./public/css/style.css
:END:
**** file style.css
(find-file-other-frame "./public/css/style.css")
**** src style.css
***** all
#+begin_src css :no-expand t :mkdirp yes 
/* = reset ================================================================= */

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
        margin: 0;
        padding: 0;
        border: 0;
        font-size: 100%;
        font: inherit;
        vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section {
        display: block;
}
body {
        line-height: 1;
}
ol, ul {
        list-style: none;
}
blockquote, q {
        quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
        content: '';
        content: none;
}
table {
        border-collapse: collapse;
        border-spacing: 0;
}

/* apply a natural box layout model to all elements, but allowing views to change */
html {
  box-sizing: border-box;
}
*, *:before, *:after {
  box-sizing: inherit;
}

button:focus {
        outline:0;
}

/* = giggin ================================================================ */

:root {
  --primary: #021d49;
  --primary-alpha: rgba(2, 29, 73, 0.5);
  --secondary: #00ffb0;
        --secondary-alpha: rgba(0, 255,126, 0.5);
  --gray: #f6f6f6;
  --gray-alpha: rgba(246, 246, 246, 0.9);
  --black-color: #222223;
        --red-color: #ff4d4f
}

::selection {
  background: var(--secondary);
}

::-moz-selection {
  background: var(--secondary);
}

body, button {
  font-family: 'Poppins', sans-serif;
  font-size: 1.4rem;
        background: var(--gray);
  color: var(--primary)
}

.container {
  margin-left: auto;
  margin-right: auto;
  padding-left: .4rem;
  padding-right: .4rem;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  max-width: 1000px;
}

@media (min-width: 768px) {
  .container {
    display: grid;
    grid-template-columns: 0.7fr 0.3fr;
    grid-template-rows: auto 1fr auto;
  }
}

a {
  background-color: transparent; /* 1 */
  -webkit-text-decoration-skip: objects; /* 2 */
}

a:active,
a:hover {
  outline-width: 0;
}

a {
  color: var(--primary);
  outline: none;
  text-decoration: none;
}

a:focus,
a:hover,
a:active,
a.active {
  color: var(--secondary);
  text-decoration: underline;
}

header {
  grid-column: span 2;
  padding: 1vw;
  text-align: center;
}

header .btn {
  height: 4rem;
}

.logo {
  width: 25vw;
  min-width: 160px;
  max-width: 380px;
}

aside {
  flex: 2;
  padding: .4rem;
}

main {
  padding: .4rem;
}

footer {
  grid-column: span 2;
  padding: 30px;
  padding-left: 0px;
  text-align: left;
  font-size: 0.8em;
  vertical-align: middle;
}

footer img {
  max-width: 40px;
}

h1 {
  margin-bottom: 1em;
  font-size: 1.3em;
  font-weight: bold;
}

hr {
  border: 0;
  height: 0;
  border-top: 1px solid var(--gray);
  margin-bottom: 20px;
}

.payment {
        max-width: 400px;
  margin: 0 auto;
}

.payment-logo {
        padding-top: 6vh;
  width: 100%;
}

.float--right {
  float: right !important;
  padding: .8rem;
}
.float--left {
  float: left !important;
  padding: .8rem;
}

.gigs {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(185px, 1fr));
  grid-gap: 20px;
}

.gig {
  display: grid;
  grid-template-columns: 100px 1fr;
  grid-gap: 10px;
  border: .01rem solid #fff;
  background: #fff;
  display: flex;
  display: -ms-flexbox;
  -ms-flex-direction: column;
  flex-direction: column;
  border-top-left-radius: 6px;
  border-top-right-radius: 6px;
}

.gig .gig__body p {
  padding: .8rem;
  font-size: 1rem;
  line-height: 1.4;
}

.gig .gig__footer {
  padding: .8rem;
}

.gig .gig-header:last-child,
.gig .gig-body:last-child,
.gig .gig-footer:last-child {
  padding-bottom: .8rem;
}

.gig .gig-image {
  padding-top: .8rem;
}

.gig .gig-image:first-child {
  padding-top: 0;
}

.gig__artwork:first-child {
  border-top-left-radius: 6px;
  border-top-right-radius: 6px;
}

.gig {
  border-bottom-left-radius: 6px;
  border-bottom-right-radius: 6px;
}

.gig .gig__body .gig__title {
  padding: .8rem;
  padding-bottom: 0;
  font-size: 1rem;
  line-height: 1.4;
  font-size: 1.2rem;
        color: var(--secondary);
}

.gig .gig__body .gig__price {
  padding-top: .1rem;
  width: 100%;
  color: var(--primary-alpha);
}

.gig .gig__body .gig__desc {
  font-size: .8rem;
  padding-bottom: .8rem;
}

.gig__artwork {
  width: 100%;
}

.gig__edit {
  width: 100%;
  opacity: 1;
  transition: opacity 0.3s ease-in-out;
}

.gig__edit:hover {
  cursor:pointer;
  opacity: 0.4
}

.sold-out {
        border: .05rem solid var(--red-color);
  border-color: var(--red-color);
        background: #fff;
  color: var(--red-color);
  border-radius: 6px;
        font-size: .9rem;
        height: 2rem;
        padding: .45rem .6rem;
        line-height: 1rem;
  outline: none;
  text-align: center;
}

/* = Button = */

.btn {
  -webkit-appearance: none;
  -moz-appearance: none;
  background: #fff;
  border: .05rem solid var(--secondary);
  border-radius: 6px;
  color: var(--secondary);
  cursor: pointer;
  display: inline-block;
  line-height: 1rem;
  outline: none;
  text-align: center;
  text-decoration: none;
  transition: all .2s ease;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  vertical-align: middle;
  white-space: nowrap;
  font-size: .9rem;
  height: 2rem;
  padding: .45rem .6rem;
}

.btn:focus,
.btn:hover {
  background: var(--gray);
  border-color: var(--primary);
  text-decoration: none;
}

.btn[disabled],
.btn:disabled,
.btn.disabled {
  cursor: default;
  opacity: .5;
  pointer-events: none;
}

.btn.btn--primary {
  background: var(--primary);
  border-color: var(--primary);
  color: #fff;
}

.btn.btn--primary:focus,
.btn.btn--primary:hover {
  background: var(--secondary);
  border-color: var(--secondary);
  color: var(--primary);
}

.btn.btn--primary:active,
.btn.btn--primary.active {
  background: var(--primary);
  border-color: var(--primary);
  color: var(--secondary);
}

.btn.btn--secondary {
  background: var(--secondary);
  border-color: var(--secondary);
  color: var(--primary);
}

.btn.btn--secondary:focus,
.btn.btn--secondary:hover {
  background: var(--primary);
  border-color: var(--primary);
  color: var(--gray);
}

.btn.btn--secondary:active,
.btn.btn--secondary.active {
  background: var(--primary);
  border-color: var(--primary);
  color: var(--secondary);
}

.btn.btn--link {
  background: transparent;
  border-color: transparent;
  color: var(--primary);
}

.btn.btn--link:focus,
.btn.btn--link:hover,
.btn.btn--link:active,
.btn.btn--link.active {
  color: var(--secondary);
}

.btn.btn--clear {
  background: transparent;
  border: 0;
  color: currentColor;
  height: .8rem;
  line-height: .8rem;
  margin-left: .2rem;
  margin-right: -2px;
  opacity: 1;
  padding: 0;
  text-decoration: none;
  width: .8rem;
}

.btn.btn--clear:hover {
  color: #00ffb9;
  opacity: .95;
}

.btn.btn--clear::before {
  content: "\2715";
}

.btn .icon {
  vertical-align: -10%;
}

/* = Icon = */

.icon {
  box-sizing: border-box;
  display: inline-block;
  font-size: inherit;
  font-style: normal;
  height: 1em;
  position: relative;
  text-indent: -9999px;
  vertical-align: middle;
  width: 1em;
}

.icon::before,
.icon::after {
  display: block;
  left: 50%;
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
}

.icon--forward::before {
  border: 1px solid currentColor;
  border-bottom: 0;
  border-right: 0;
  content: "";
  height: .62em;
  width: .62em;
}

.icon--forward::after {
  background: currentColor;
  content: "";
  height: 13px;
  width: 1px;
}

.icon--forward::after {
  left: 46%;
}

.icon--forward::before {
  transform: translate(-50%, -50%) rotate(135deg);
}

.icon--plus::before,
.icon--cross::before {
  background: currentColor;
  content: "";
  height: 1px;
  width: 100%;
}

.icon--plus::after,
.icon--cross::after {
  background: currentColor;
  content: "";
  height: 100%;
  width: 1px;
}

.icon--cross::before {
  width: 100%;
}

.icon--cross::after {
  height: 100%;
}

.icon--cross::before,
.icon--cross::after {
  transform: translate(-50%, -50%) rotate(45deg);
}

.icon--delete::before {
  border: 1px solid currentColor;
  border-bottom-left-radius: .1rem;
  border-bottom-right-radius: .1rem;
  border-top: 0;
  content: "";
  height: .65em;
  top: 60%;
  width: .75em;
}

.icon--delete::after {
  background: currentColor;
  box-shadow: -.25em .2em, .25em .2em;
  content: "";
  height: 1px;
  top: .05rem;
  width: .55em;
}

/* = Tooltip = */

.tooltip {
  position: relative;
}

.tooltip::after {
  background: rgba(69, 77, 93, .9);
  border-radius: 6px;
  color: #fff;
  content: attr(data-tooltip);
  display: block;
  font-size: .8rem;
  max-width: 320px;
  opacity: 0;
  overflow: hidden;
  padding: .3rem .5rem;
  pointer-events: none;
  position: absolute;
  text-overflow: ellipsis;
  transform: translate(-50%, .4rem);
  transition: all .2s ease;
  white-space: pre;
  z-index: 300;
        bottom: 50%;
  left: auto;
  right: 100%;
  transform: translate(.4rem, 50%);
}

.tooltip:focus::after,
.tooltip:hover::after {
  opacity: 1;
  transform: translate(-.2rem, 50%);
}

.tooltip[disabled],
.tooltip.disabled {
  pointer-events: auto;
}

/* = Orders =*/

.order {
  border: .05rem solid var(--gray);
  border-radius: 6px;
  display: flex;
  display: -ms-flexbox;
  -ms-flex-direction: column;
  flex-direction: column;
        background: #fff;
}

.order .total {
  -ms-flex: 0 0 auto;
  flex: 0 0 auto;
  padding: .8rem;
  font-size: 1.1rem;
}

.order .order-nav {
  -ms-flex: 0 0 auto;
  flex: 0 0 auto;
}

.order .body {
  -ms-flex: 1 1 auto;
  flex: 1 1 auto;
  padding: .6rem .8rem;
  padding-bottom: 0;
}

/* = admin-panel = */
.admin-panel {
  border: .05rem solid var(--gray);
  border-radius: 6px;
  display: flex;
  display: -ms-flexbox;
  -ms-flex-direction: column;
  flex-direction: column;
        -ms-flex: 0 0 auto;
  flex: 0 0 auto;
  padding: .8rem;
  font-size: 1.1rem;
        margin-bottom: 1rem;
        background: #fff;
}


/* = item = */

.item {
  align-content: space-between;
  align-items: center;
  display: flex;
  display: -ms-flexbox;
  -ms-flex-align: center;
  -ms-flex-line-pack: justify;
  /* visibility: hidden; */
}

.item .action {
  -ms-flex: 0 0 auto;
  flex: 0 0 auto;
}

.item .action .price {
        -webkit-appearance: none;
  -moz-appearance: none;
  background: #fff;
  display: inline-block;
  line-height: 1rem;
  outline: none;
  text-align: center;
  text-decoration: none;
  transition: all .2s ease;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  vertical-align: middle;
  white-space: nowrap;
  font-size: .9rem;
  height: 2rem;
  padding: .45rem .6rem;
        background: transparent;
  border-color: transparent;
  color: var(--primary);
        cursor: default;
        opacity: .5;
        pointer-events: none;
}

.item img {
  margin: .4rem .4rem .4rem .2rem;
  border-radius: 4px;
  max-width: 30px;
}

.item .content {
  -ms-flex: 1 1 auto;
  flex: 1 1 auto;
}

.item .title {
  -ms-flex: 1 1 auto;
  flex: 1 1 auto;
  -webkit-margin-before: 0px;
  line-height: 1rem;
  font-size: .9rem;
}

.item .sold-out {
  -ms-flex: 1 1 auto;
  flex: 1 1 auto;
  -webkit-margin-before: 0px;
  line-height: 1rem;
  font-size: .9rem;
        color: var(--red-color);
}

.item.item-centered .title,
.item.item-centered .item-subtitle {
  margin-bottom: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* = empty =*/

.empty {
  background-color: #fff;
  border: .05rem solid #fff;
  color: var(--primary-alpha);
  border-radius: 6px;
  padding: 3.2rem 1.6rem;
  text-align: center;
}

.empty .title,
.empty .subtitle {
  margin: .8rem auto;
}

.empty .subtitle {
  font-size: .9rem;
}

/* = add-event =*/
.add-gig {
  border: .05rem solid #fff;
  background-color: #fff;
  color: var(--secondary);
  border-radius: 6px;
  padding: 3.2rem 1.6rem;
  text-align: center;
  opacity: 0.4;
}

.add-gig:hover {
  cursor: pointer;
  border-radius: 6px;
  padding: 3.2rem 1.6rem;
  text-align: center;
  opacity: 1;
  transition: opacity 0.3s ease-in-out;
}

.add-gig .add__title {
  margin: .8rem auto;
}

/* = modal = */

.checkout-modal {
        margin-top: 20px;
}

.checkout {
  min-height: 75%;
  max-width: 400px;
  margin: 0 auto;
}

.modal {
  align-items: center;
  bottom: 0;
  display: none;
  -ms-flex-align: center;
  -ms-flex-pack: center;
  justify-content: center;
  left: 0;
  opacity: 0;
  overflow: hidden;
  padding: .4rem;
  position: fixed;
  right: 0;
  top: 0;
}

.modal:target,
.modal.active {
  display: flex;
  display: -ms-flexbox;
  opacity: 1;
  z-index: 400;
}

.modal:target .modal__overlay,
.modal.active .modal__overlay {
  background: var(--gray);
  bottom: 0;
  cursor: default;
  display: block;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
}

.modal:target .modal__container,
.modal.active .modal__container {
        box-shadow: none;
  max-width: 960px;
  width: 100%;
  z-index: 1;
}

.modal__container {
  background: var(--gray);
  border-radius: 1rem;
  box-shadow: 0 .2rem .5rem rgba(69, 77, 93, .3);
  display: block;
  padding: 0 .8rem;
  text-align: left;
}

.modal__container .modal__header .modal__title {
  color: var(--primary);
  background: #fff;
}

@media (min-width: 768px) {
  .modal__container .modal__body {
    min-height: 450px;
  }
  .modal__container .modal__body .checkout {
    padding-top: 4rem;
  }
}

.modal__container .modal__body {
  max-height: 66vh;
  overflow-y: auto;
  padding: .4rem;
  position: relative;

}

.modal__container .modal__footer {
  padding-bottom: 1.2rem;
  text-align: right;
}

@media (max-width: 768px) {
  .modal__container .modal__header {
    position: fixed;
    top: 1.4rem;
    right: 1.8rem;
    left: 1.8rem;
    background-color: #fff;
  }

  .modal__container .modal__footer {
    position: fixed;
    bottom: .4rem;
    right: 1.8rem;
    left: 1.8rem;
  }
}


.step {
  display: flex;
  display: -ms-flexbox;
  -ms-flex-wrap: nowrap;
  flex-wrap: nowrap;
  list-style: none;
  margin: .2rem 0;
  width: 100%;
}

.step .step__item {
  -ms-flex: 1 1 0;
  flex: 1 1 0;
  margin-top: 0;
  min-height: 1rem;
  position: relative;
  text-align: center;
}

.step .step__item:not(:first-child)::before {
  background: var(--secondary);
  content: "";
  height: 1px;
  left: -50%;
  position: absolute;
  top: 7px;
  width: 100%;
}

.step .step__item a {
  color: var(--primary-alpha);
  display: inline-block;
  padding: 20px 10px 0;
  text-decoration: none;
  background: #fff;
}

.step .step__item a::before {
  background: var(--secondary);
  border: .1rem solid #fff;
  border-radius: 50%;
  content: "";
  display: block;
  height: 10px;
  left: 50%;
  position: absolute;
  top: 3px;
  transform: translateX(-50%);
  width: 10px;
  z-index: 1;
}

.step .step__item.active a::before {
  background: #fff;
  border: .1rem solid var(--secondary);
}

.step .step__item.active ~ .step__item::before {
  background: var(--gray);
}

.step .step__item.active ~ .step__item a::before {
  background: var(--gray);
}

/* =form= */

.form__group:not(:last-child) {
  margin-bottom: .4rem;
}

.form__label {
        color: var(--primary);
  display: block;
  line-height: 1rem;
  padding: .4rem 0;
        margin-top: .6rem;
  font-size: .8rem;
}

.form__input {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background: #fff;
  background-image: none;
  border: .05rem solid #d3d3d3;
  border-radius: 6px;
  color: var(--primary);
  display: block;
  font-size: .8rem;
  height: 1.8rem;
  line-height: 1rem;
  max-width: 100%;
  outline: none;
  padding: .35rem .4rem;
  position: relative;
  transition: all .2s ease;
  width: 100%;
}

.form__input:focus {
  border-color: var(--secondary);
  box-shadow: 0 0 0 .2rem rgba(00, 255, 176, .5);
}

.form__input::-webkit-input-placeholder {
  color: #d3d3d3;
}

.form__input:-ms-input-placeholder {
  color: #d3d3d3;
}

.form__input::placeholder {
  color: #d3d3d3;
}

textarea.form__input {
  height: auto;
}

.form__switch {
  display: inline-block;
  line-height: 1rem;
  margin: .2rem 0;
  min-height: 1.2rem;
  padding: .2rem .4rem .2rem 1.2rem;
  position: relative;
}

.form__switch input {
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  position: absolute;
  width: 1px;
}

.form__switch input:focus + .form__icon {
  border-color: var(--secondary);
}

.form__switch input:checked + .form__icon {
  background: var(--secondary);
  border-color: var(--secondary-alpha);
}

.form__switch .form__icon {
  border: .05rem solid var(--secondary);
  cursor: pointer;
  display: inline-block;
  position: absolute;
  transition: all .2s ease;
        font-size: .8rem;
}

.form__switch.input-lg {
  font-size: .9rem;
  margin: .3rem 0;
}

.form__switch {
  padding-left: 2rem;
}

.form__switch .form__icon {
  background: var(--gray);
  background-clip: padding-box;
  border-radius: 50px;
  height: 22px;
  left: 0;
  top: 4px;
  width: 42px;
}

.form__switch .form__icon::before {
  background: #fff;
  border-radius: 50%;
  content: "";
  display: block;
  height: 20px;
  left: 1px;
  position: absolute;
  top: 0px;
  transition: all .2s ease;
  width: 20px;
}

.form__switch input:checked + .form__icon::before {
  left: 20px;
}

.form__switch input:active + .form__icon::before {
  background: #f8f9fa;
}


/* = avatar = */

figure {
  display: block;
}

.avatar {
  display: inline-block;
  margin: 0;
  vertical-align: middle;
  height: 2rem;
  width: 2rem;
}

.avatar img {
  border-radius: 50%;
  height: 100%;
  width: 100%;
  z-index: 1;
}

#+end_src
**** exampl
(find-file-other-frame "~/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/css/style.css")
**** CANCELED arhiv
:PROPERTIES:
:header-args: :tangle no
:END:
***** all
#+begin_src css :no-expand t :mkdirp yes 
/* Source: https://github.com/tastejs/todomvc-app-css/blob/v2.1.0/index.css */
html,
body {
    margin: 0;
    padding: 0;
}

button {
    margin: 0;
    padding: 0;
    border: 0;
    background: none;
    font-size: 100%;
    vertical-align: baseline;
    font-family: inherit;
    font-weight: inherit;
    color: inherit;
    -webkit-appearance: none;
    appearance: none;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font: 14px 'Helvetica Neue', Helvetica, Arial, sans-serif;
    line-height: 1.4em;
    background: #f5f5f5;
    color: #4d4d4d;
    min-width: 230px;
    max-width: 550px;
    margin: 0 auto;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-weight: 300;
}

:focus {
    outline: 0;
}

.hidden {
    display: none;
}

.todoapp {
    background: #fff;
    margin: 130px 0 40px 0;
    position: relative;
    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2),
                0 25px 50px 0 rgba(0, 0, 0, 0.1);
}

.todoapp input::-webkit-input-placeholder {
    font-style: italic;
    font-weight: 300;
    color: #e6e6e6;
}

.todoapp input::-moz-placeholder {
    font-style: italic;
    font-weight: 300;
    color: #e6e6e6;
}

.todoapp input::input-placeholder {
    font-style: italic;
    font-weight: 300;
    color: #e6e6e6;
}

.todoapp h1 {
    position: absolute;
    top: -155px;
    width: 100%;
    font-size: 100px;
    font-weight: 100;
    text-align: center;
    color: rgba(175, 47, 47, 0.15);
    -webkit-text-rendering: optimizeLegibility;
    -moz-text-rendering: optimizeLegibility;
    text-rendering: optimizeLegibility;
}

.new-todo,
.edit {
    position: relative;
    margin: 0;
    width: 100%;
    font-size: 24px;
    font-family: inherit;
    font-weight: inherit;
    line-height: 1.4em;
    border: 0;
    color: inherit;
    padding: 6px;
    border: 1px solid #999;
    box-shadow: inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.new-todo {
    padding: 16px 16px 16px 60px;
    border: none;
    background: rgba(0, 0, 0, 0.003);
    box-shadow: inset 0 -2px 1px rgba(0,0,0,0.03);
}

.main {
    position: relative;
    z-index: 2;
    border-top: 1px solid #e6e6e6;
}

.toggle-all {
    text-align: center;
    border: none; /* Mobile Safari */
    opacity: 0;
    position: absolute;
}

.toggle-all + label {
    width: 60px;
    height: 34px;
    font-size: 0;
    position: absolute;
    top: -52px;
    left: -13px;
    -webkit-transform: rotate(90deg);
    transform: rotate(90deg);
}

.toggle-all + label:before {
    content: '‚ùØ';
    font-size: 22px;
    color: #e6e6e6;
    padding: 10px 27px 10px 27px;
}

.toggle-all:checked + label:before {
    color: #737373;
}

.todo-list {
    margin: 0;
    padding: 0;
    list-style: none;
}

.todo-list li {
    position: relative;
    font-size: 24px;
    border-bottom: 1px solid #ededed;
}

.todo-list li:last-child {
    border-bottom: none;
}

.todo-list li.editing {
    border-bottom: none;
    padding: 0;
}

.todo-list li.editing .edit {
    display: block;
    width: 506px;
    padding: 12px 16px;
    margin: 0 0 0 43px;
}

.todo-list li.editing .view {
    display: none;
}

.todo-list li .toggle {
    text-align: center;
    width: 40px;
    /* auto, since non-WebKit browsers doesn't support input styling */
    height: auto;
    position: absolute;
    top: 0;
    bottom: 0;
    margin: auto 0;
    border: none; /* Mobile Safari */
    -webkit-appearance: none;
    appearance: none;
}

.todo-list li .toggle {
    opacity: 0;
}

.todo-list li .toggle + label {
    /*
        Firefox requires `#` to be escaped - https://bugzilla.mozilla.org/show_bug.cgi?id=922433
        IE and Edge requires *everything* to be escaped to render, so we do that instead of just the `#` - https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7157459/
   ,*/
    background-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E');
    background-repeat: no-repeat;
    background-position: center left;
}

.todo-list li .toggle:checked + label {
    background-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23bddad5%22%20stroke-width%3D%223%22/%3E%3Cpath%20fill%3D%22%235dc2af%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22/%3E%3C/svg%3E');
}

.todo-list li label {
    word-break: break-all;
    padding: 15px 15px 15px 60px;
    display: block;
    line-height: 1.2;
    transition: color 0.4s;
}

.todo-list li.completed label {
    color: #d9d9d9;
    text-decoration: line-through;
}

.todo-list li .destroy {
    display: none;
    position: absolute;
    top: 0;
    right: 10px;
    bottom: 0;
    width: 40px;
    height: 40px;
    margin: auto 0;
    font-size: 30px;
    color: #cc9a9a;
    margin-bottom: 11px;
    transition: color 0.2s ease-out;
}

.todo-list li .destroy:hover {
    color: #af5b5e;
}

.todo-list li .destroy:after {
    content: '√ó';
}

.todo-list li:hover .destroy {
    display: block;
}

.todo-list li .edit {
    display: none;
}

.todo-list li.editing:last-child {
    margin-bottom: -1px;
}

.footer {
    color: #777;
    padding: 10px 15px;
    height: 20px;
    text-align: center;
    border-top: 1px solid #e6e6e6;
}

.footer:before {
    content: '';
    position: absolute;
    right: 0;
    bottom: 0;
    left: 0;
    height: 50px;
    overflow: hidden;
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2),
                0 8px 0 -3px #f6f6f6,
                0 9px 1px -3px rgba(0, 0, 0, 0.2),
                0 16px 0 -6px #f6f6f6,
                0 17px 2px -6px rgba(0, 0, 0, 0.2);
}

.todo-count {
    float: left;
    text-align: left;
}

.todo-count strong {
    font-weight: 300;
}

.filters {
    margin: 0;
    padding: 0;
    list-style: none;
    position: absolute;
    right: 0;
    left: 0;
}

.filters li {
    display: inline;
}

.filters li a {
    color: inherit;
    margin: 3px;
    padding: 3px 7px;
    text-decoration: none;
    border: 1px solid transparent;
    border-radius: 3px;
}

.filters li a:hover {
    border-color: rgba(175, 47, 47, 0.1);
}

.filters li a.selected {
    border-color: rgba(175, 47, 47, 0.2);
}

.clear-completed,
html .clear-completed:active {
    float: right;
    position: relative;
    line-height: 20px;
    text-decoration: none;
    cursor: pointer;
}

.clear-completed:hover {
    text-decoration: underline;
}

.info {
    margin: 65px auto 0;
    color: #bfbfbf;
    font-size: 10px;
    text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
    text-align: center;
}

.info p {
    line-height: 1;
}

.info a {
    color: inherit;
    text-decoration: none;
    font-weight: 400;
}

.info a:hover {
    text-decoration: underline;
}

/*
    Hack to remove background from Mobile Safari.
    Can't use it globally since it destroys checkboxes in Firefox
,*/
@media screen and (-webkit-min-device-pixel-ratio:0) {
    .toggle-all,
    .todo-list li .toggle {
        background: none;
    }

    .todo-list li .toggle {
        height: 40px;
    }
}

@media (max-width: 430px) {
    .footer {
        height: 50px;
    }

    .filters {
        bottom: 10px;
    }
}
#+end_src
*** other
(find-file-other-frame "./public/img/giggin-icon.png")
(find-file-other-frame "./public/img/giggin-logo.svg")
(find-file-other-frame "./public/img/paypal.svg")
(find-file-other-frame "./public/img/stripe.svg")
* files giggin
** files root
(find-file-other-frame "./.gitignore")
(find-file-other-frame "./package.json")
(find-file-other-frame "./shadow-cljs.edn")
(find-file-other-frame "./giggin.org")
** core
(find-file-other-frame "./src/giggin/core.cljs")
(find-file-other-frame "./src/giggin/state.cljs")
** resurs
(find-file-other-frame "./public/css/style.css")
(find-file-other-frame "./public/img/giggin-icon.png")
(find-file-other-frame "./public/img/giggin-logo.svg")
(find-file-other-frame "./public/img/paypal.svg")
(find-file-other-frame "./public/img/stripe.svg")
(find-file-other-frame "./public/index.html")

** files other
find "$PWD" -type f >>filepath.txt
(find-file-other-frame "filepath.txt")
* run giggin
** repl
#+begin_src elisp :results output silent 
(evil-previous-line)
(org-cycle)
(delete-other-windows)
(let (buffer-name-to-close (buffer-name))
        (evil-window-split)
        (eshell)
        (evil-quit)
        (switch-to-buffer-other-frame buffer-name-to-close))
#+end_src

lein figwheel

:cljs/quit
:cljs/restart


cd giggin
clojure -M:fig:build
clojure -M:fig:build dev

ls 
ls target public/js
ls .cpcache
rm -rf target public/js
rm -rf .cpcache

lein cljsbuild once

lein deps :refresh
** run
npm run dev

http://localhost:3000/

shadow-cljs - nREPL server started on port 3333

shadow-cljs restart
shadow-cljs cljs-repl app

(shadow/watch :app)

:cljs/quit
:cljs/restart

lein figwheel
** git
*** init
git init
git add .
git commit -m "start"
*** push
git remote add origin https://github.com/Buyn/giggin.git
git branch -M main
git push -u origin main


*** clon
git clone https://github.com/Buyn/giggin.git


echo "# giggin" >> README.md
git init
git add README.md
git commit -m "first commit"
git branch -M main
git remote add origin https://github.com/Buyn/giggin.git
git push -u origin main
** build
:cljs/quit
rm resources/public/js/app.js
lein do clean, cljsbuild once min
cp resources/public/js/app.js "~/Dev/ClojureScript/giggin/js/app.js"
cp resources/public/index.html "~/Dev/ClojureScript/giggin/index.html"
cp -r resources/public/txt "~/Dev/ClojureScript/giggin/"


–Ω–∞–¥–æ —É–¥–æ–ª–∏—Ç—å –≤—Ä—É—á–Ω—É—é
  resources/public/js/app.js
  –∏ —Ç–æ–≥–¥–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –∫–æ–º–ø–ª–∏—Ü–∏—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ
rm resources/public/js/app.js
lein do clean, cljsbuild once min

–î–æ–±–∞–≤—å :clean-targets –≤ project.clj, —á—Ç–æ–±—ã lein clean —É–¥–∞–ª—è–ª –≤–µ—Å—å js-–ø–∞–ø–∫—É:
:clean-targets ^{:protect false} ["resources/public/js" "target"]
(–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ resources/public/js/app.js —É–¥–∞–ª–∏—Ç—Å—è –ø—Ä–∏ lein clean.)


lein clean

lein cljsbuild once min

  resources/public/js/app.js
  resources/public/js/min/

2. –ú–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ:
   python3 -m http.server -d resources/public
   –∏–ª–∏
   npx http-server resources/public

** publish
*** git
git remote add origin https://github.com/Buyn/giggin.git
git branch -M main
git push -u origin main

https://buyn.github.io/

https://<username>.github.io/<repo-name>/.
https://buyn.github.io/giggin.git
https://buyn.github.io/giggin.git/.
*** orign
# Sample workflow for building and deploying a Jekyll site to GitHub Pages
name: Deploy Jekyll with GitHub Pages dependencies preinstalled

on:
  # Runs on pushes targeting the default branch
  push:
    branches: ["main"]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.
# However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  # Build job
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Setup Pages
        uses: actions/configure-pages@v5
      - name: Build with Jekyll
        uses: actions/jekyll-build-pages@v1
        with:
          source: ./
          destination: ./_site
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3

  # Deployment job
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
*** static.yml

# Simple workflow for deploying static content to GitHub Pages
name: Deploy static content to Pages

on:
  # Runs on pushes targeting the default branch
  push:
    branches: ["main"]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.
# However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  # Single deploy job since we're just deploying
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Setup Pages
        uses: actions/configure-pages@v5
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          # Upload entire repository
          path: '.'
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
*** workflows
giggin/.github/workflows
.github/workflows/deploy.yml
*** name: Build and Deploy
name: Build and Deploy
on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up Clojure tools
        uses: DeLaGuardo/setup-clojure@v2
        with:
          deps: 'true'
          tools-deps: 'true'

      - name: Build ClojureScript
        run: |
          lein clean
          lein cljsbuild once min

      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./resources/public

** deps
npm install
* –æ–ø–∏—Å–∞–Ω–∏–µ
** –ò–ò
–µ—Å–ª–∏ –º–Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –Ω–∞—Å—Ç–æ–ª—å–∫–Ω–æ–π –∏–≥—Ä—ã
–Ω–∞–ø—Ä–∏–º–µ—Ä –∏–≥—Ä–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞. –¢–æ–µ—Å—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –µ—ë —Ñ—É–Ω–∫—Ü–∏–∫–π –±—É–¥–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ç–µ–≥–∏–≤–∞–Ω–∏—è, –ø—Ä–∏ –∑–∞–∂–∞—Ç–æ–π –ª–µ–≤–æ–π –∫–Ω–æ–∞–∫–µ.
–∫–∞–∫ –º–æ–∂–Ω–æ –±—ã–ª–æ–±—ã —ç—Ç–æ –ø—Ä–æ—â–µ —Ä–µ–∞–ª–∏–∑–æ–≤—Ç—å?
** –∫–æ–¥ –ò–ò
–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º–∞—è –∫–∞—Ä—Ç–∞ ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π **–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**.
–ò –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ **–æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ** –≤ Reagent/ClojureScript ‚Äî –±–µ–∑ —Ç—è–∂—ë–ª—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.

–í–æ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ, –æ —á—ë–º —Ä–µ—á—å:

---

## ‚úÖ –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –ø—É—Ç—å: HTML5 Drag & Drop + Reagent

### üîπ –ö–∞—Ä—Ç–∞ –∫–∞–∫ React/Reagent –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

```clojure
(ns game.components.card
  (:require [reagent.core :as r]))

(defn card [{:keys [id suit rank]}]
  [:div.card
   {:draggable true
    :on-drag-start #(js/console.log "drag start" id)}
   (str rank " " suit)])
```

–í–°–Å ‚úÖ
–£–∂–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ—Ç—Å—è!
–ü–æ–∫–∞ —á—Ç–æ –±–µ–∑ –ª–æ–≥–∏–∫–∏ ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–æ–±—ã—Ç–∏–µ.

---

## ‚ûï –ß—Ç–æ–±—ã **–∫–∞—Ä—Ç–∞ –º–æ–≥–ª–∞ –º–µ–Ω—è—Ç—å —Å–≤–æ—ë –ø–æ–ª–æ–∂–µ–Ω–∏–µ** –Ω–∞ —Å—Ç–æ–ª–µ

–ú—ã —Ö—Ä–∞–Ω–∏–º –ø–æ–∑–∏—Ü–∏—é –∫–∞—Ä—Ç—ã –≤ **atom**:

```clojure
(defonce positions (r/atom {}))

(defn set-position! [id x y]
  (swap! positions assoc id {:x x :y y}))
```

---

## üî• –ö–∞—Ä—Ç–∞ —Å –∞–±—Å–æ–ª—é—Ç–Ω—ã–º –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º drag-move

```clojure
(defn draggable-card [{:keys [id suit rank]}]
  (let [{:keys [x y]} (get @positions id {:x 100 :y 100})]
    [:div.card
     {:style {:position "absolute"
              :cursor "grab"
              :left x
              :top y}
      :on-mouse-down
      (fn [e]
        (let [start-x (.-clientX e)
              start-y (.-clientY e)
              on-move
              (fn [e2]
                (set-position! id
                               (+ x (- (.-clientX e2) start-x))
                               (+ y (- (.-clientY e2) start-y))))
              on-up
              (fn [_]
                (.removeEventListener js/window "mousemove" on-move)
                (.removeEventListener js/window "mouseup" on-up))]

          (.addEventListener js/window "mousemove" on-move)
          (.addEventListener js/window "mouseup" on-up)))}]
     (str rank " " suit)]))
```

---

### ‚úÖ –ß—Ç–æ —É–º–µ–µ—Ç —ç—Ç–∞ –≤–µ—Ä—Å–∏—è

‚úî –ë–µ—Ä—ë–º –∫–∞—Ä—Ç—É –º—ã—à–∫–æ–π
‚úî –¢—è–Ω–µ–º ‚Äî –∫–∞—Ä—Ç–∞ –¥–≤–∏–≥–∞–µ—Ç—Å—è –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º
‚úî –û—Ç–ø—É—Å—Ç–∏–ª–∏ ‚Äî –∫–∞—Ä—Ç–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ —Å–≤–æ—ë–º –Ω–æ–≤–æ–º –º–µ—Å—Ç–µ

–ù–∏–∫–∞–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π!
–ü—Ä–æ—Å—Ç–æ Reagent + DOM events.

---

## üöÄ –£–ª—É—á—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å

| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å                | –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å                    |
| -------------------------- | ------------------------------ |
| –°–ª–æ–∏ (–∫–∞—Ä—Ç–∞ –ø–æ–≤–µ—Ä—Ö –¥—Ä—É–≥–∏—Ö) | z-index, —Å—á—ë—Ç—á–∏–∫ —Å–ª–æ—ë–≤         |
| –ü–æ–≤–æ—Ä–æ—Ç—ã                   | CSS transform: rotate          |
| –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –≤ –∑–æ–Ω—ã      | –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã drop      |
| Touch-–ø–æ–¥–¥–µ—Ä–∂–∫–∞            | on-touch-start / on-touch-move |
| –ê–Ω–∏–º–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è          | Position ‚Üí CSS transition      |

–•–æ—á–µ—à—å ‚Äî —Å–¥–µ–ª–∞—é **–∫—Ä–∞—Å–∏–≤—ã–π UI** —Å –±–µ–π—Å–∞–º–∏ –∫–∞—Ä—Ç üé®

---

## ‚ùì –°–ø—Ä–æ—à—É –Ω–∞ –±—É–¥—É—â–µ–µ:

–ö–∞–∫—É—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –∏–≥—Ä—É —Ç—ã –ø–ª–∞–Ω–∏—Ä—É–µ—à—å?

1Ô∏è‚É£ –ö–∞—Ä—Ç–æ—á–Ω–∞—è (–ø–∞—Å—å—è–Ω—Å, MTG, Uno ‚Ä¶)?
2Ô∏è‚É£ –ù–∞—Å—Ç–æ–ª—å–Ω–∞—è (–ø–ª–∏—Ç–∫–∏, —Ñ–∏—à–∫–∏, –ø–æ–ª—è)?
3Ô∏è‚É£ –ü–æ—à–∞–≥–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è?

–ò —Å–∫–æ–ª—å–∫–æ –∫–∞—Ä—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–∞ —Å—Ç–æ–ª–µ?

–ï—Å–ª–∏ —Ä–∞—Å—Å–∫–∞–∂–µ—à—å ‚Äî —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä—É—é **–ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** (Keystates, Event-bus, FSM –¥–ª—è –ø—Ä–∞–≤–∏–ª, —Å—Ç–µ–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π).

---

–•–æ—á–µ—à—å ‚Äî –¥–∞–≤–∞–π —Å–¥–µ–ª–∞–µ–º **—Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ç–æ—Ç–∏–ø –ø—Ä—è–º–æ –∑–¥–µ—Å—å** üß†‚ö°
–° —Ç–µ–±—è –∏–¥–µ—è –∏–≥—Ä—ã ‚Äî —Å –º–µ–Ω—è –∫–æ–¥ –∏ –∞–Ω–∏–º–∞—Ü–∏–∏ üíú
** –ò–ò 
–º–Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∫–ª–æ–∂—É—Ä —Å–∫—Ä–∏–ø—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏ –Ω–∞ Keechma –°–∏–º—É–ª—è—Ç–æ—Ä —Ç–∞–±–ª–µ —Ç–æ–ø –∏ –±–æ—Ä–¥ –≥–µ–π—Å.
—Ç–æ–µ—Å—Ç—å –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞—Ä—Ç—ã, –∫–æ–ª–æ–¥—ã, –∫–æ—Å—Ç–∏, —Ç–∞–π–ª—ã.
–æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—É–¥—É—Ç –¥–µ–ª–∞—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ –¥–∂–µ–π—Å–æ–Ω –æ–ø–∏—Å–∞–Ω–∏—è.
–≥–ª–∞–≤–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–Ω–æ –Ω–∞—á–∞—Ç—å. –≠—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ç—è–≥–∏–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ—Ç–æ–≤.
—ç—Ç–æ –Ω–µ –ø–ª–æ—Ö–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –Ω–∞ —Ä–µ–∞–≥–µ–Ω—Ç–µ.
–Ω–æ –º–Ω–µ –Ω—É–∂–æ –∏ "–ø–µ—Ä–µ—Ç—è–≥–∏–≤–∞—Ç—å —Å—Ç–æ–ª—å". –¢–æ—Å—Ç—å –º–µ–Ω—è—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –∑–Ω–∞—á–∞–µ–Ω–µ–∏ –∫–æ–æ—Ä–¥–Ω–∞—Ç, –Ω–æ –Ω–µ–∫–æ–º—É –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º—É —Å—Ç–æ–ª–æ—É.
–∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–∏–±–ª–∏–∂–∞—Ç—å –∏ —É–¥–æ–ª—è—Ç—å –∫–∞–º–µ—Ä—É –∫ —Å—Ç–æ–ª—É.
–∏ —Ç—É—Ç –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≤–æ–ø—Ä–æ—Å –Ω–µ –ø—Ä–æ—â–µ –ª–∏ –±—É–¥–µ—Ç —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞ –∫–∞–Ω–≤–µ?
–∏–ª–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–≥–µ–Ω—Ç–∞ —á—Ç–æ–± –æ–Ω–∏ —Ç–∞–∫ —Å–µ–±—è –≤–µ–ª–∏?
–ø–æ–º–æ–≥–∏ –≤—ã–±—Ä–∞—Ç—å –Ω–∞–∏–ª—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ.
** Konva.js
–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å ‚Äî –∏ –æ—á–µ–Ω—å —É–º–µ—Å—Ç–Ω—ã–π –¥–ª—è —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ –Ω–∞—Å—Ç–æ–ª–æ–∫, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏–º–µ–Ω–Ω–æ —Å–æ—á–µ—Ç–∞–Ω–∏–µ **–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (drag-n-drop)** –∏ **‚Äú–±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Å—Ç–æ–ª–∞‚Äù —Å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º** —Å—Ç–∞–≤–∏—Ç React/Reagent –≤ –¥–æ–≤–æ–ª—å–Ω–æ —Å–ø–æ—Ä–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ.
–†–∞–∑–±–µ—Ä—ë–º –ø–æ —Å–ª–æ—è–º, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –±–µ–∑ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–≤.

---

### üîπ –ß—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å –ø–æ—Å—Ç—Ä–æ–∏—Ç—å

> Keechma-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –Ω–∞ Reagent/Re-frame –æ—Å–Ω–æ–≤–µ)
> —Å JSON-–æ–ø–∏—Å—ã–≤–∞–µ–º—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ (–∫–∞—Ä—Ç—ã, –∫–æ–ª–æ–¥—ã, –∫–æ—Å—Ç–∏, —Ç–∞–π–ª—ã),
> –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –∏ –¥–≤–∏–≥–∞—Ç—å –≤ ‚Äú–±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º —Å—Ç–æ–ª–µ‚Äù.

–≠—Ç–æ —Å—Ç–∞–≤–∏—Ç –∑–∞–¥–∞—á—É –Ω–∞ **—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥** (Canvas vs DOM) –∏ **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π** (drag, zoom, pan, snapping –∏ —Ç.–¥.)

---

### üîπ –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–∏—Å—Ç–æ Reagent (DOM + CSS transforms)

‚úÖ **–ü–ª—é—Å—ã:**

  * –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Keechma (state, subscriptions, commands –∏ —Ç.–ø.).
  * Drag-n-drop –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ `react-dnd` –∏–ª–∏ `interact.js`.
  * ‚Äú–ö–∞–º–µ—Ä—É‚Äù (–ø–∞–Ω –∏ –∑—É–º) –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ CSS `transform: translate() scale()` –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ ‚Äú—Å—Ç–æ–ª–∞‚Äù.

üö´ **–ú–∏–Ω—É—Å—ã:**

  * –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞—á–Ω—ë—Ç —Å—Ç—Ä–∞–¥–∞—Ç—å, –µ—Å–ª–∏ –Ω–∞ —Å—Ç–æ–ª–µ –¥–µ—Å—è—Ç–∫–∏/—Å–æ—Ç–Ω–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (DOM-–Ω–æ–¥—ã –¥–æ—Ä–æ–≥–∏–µ).
  * –ü—Ä–∏ –∑—É–º–µ –∏ –ø–∞–Ω–µ –ª–µ–≥–∫–æ —Å–ª–æ–≤–∏—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å hit-—Ç–µ—Å—Ç–∞–º–∏ (drag –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏).
  * –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è/–∏–Ω–µ—Ä—Ü–∏–∏ ‚Äî –≥–µ–º–æ—Ä—Ä–æ–π.

üí° **–ò—Ç–æ–≥–æ:** –ø–æ–¥—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ —Å—Ç–æ–ª –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π –Ω–µ–º–Ω–æ–≥–æ (–¥–æ 100 –æ–±—ä–µ–∫—Ç–æ–≤).

---

### üîπ –í–∞—Ä–∏–∞–Ω—Ç 2: Canvas (—á–µ—Ä–µ–∑ Reagent –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å `canvas` API)

‚úÖ **–ü–ª—é—Å—ã:**

  * –õ—ë–≥–∫–∏–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–∞–∂–µ –ø—Ä–∏ —Å–æ—Ç–Ω—è—Ö –æ–±—ä–µ–∫—Ç–æ–≤.
  * –ó—É–º –∏ –ø–∞–Ω ‚Äî –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã, —Ç—ã –ø—Ä–æ—Å—Ç–æ –º–µ–Ω—è–µ—à—å `ctx.scale` –∏ `ctx.translate`.
  * –ü—Ä–æ—â–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ‚Äú–±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å —Å—Ç–æ–ª–∞‚Äù –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã (—Ç–µ–Ω–∏, –ø–æ–¥—Å–≤–µ—Ç–∫–∏, —Å–ª–æ–∏).
  * –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤—Ä–æ–¥–µ [Konva.js](https://konvajs.org/) (–µ—Å—Ç—å [react-konva](https://github.com/konvajs/react-konva), –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –≤ Reagent).

  üö´ **–ú–∏–Ω—É—Å—ã:**

  * –ù—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –ø–∏—Å–∞—Ç—å –ª–æ–≥–∏–∫—É –≤—ã–¥–µ–ª–µ–Ω–∏—è/drag-n-drop (hit testing).
  * –°–ª–æ–∂–Ω–µ–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç–∏–ø–∏—á–Ω—ã–º Keechma flow (—Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–¥—ë—Ç—Å—è —Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å).

üí° **–ò—Ç–æ–≥–æ:** –∏–¥–µ–∞–ª–µ–Ω, –µ—Å–ª–∏ —Ç–µ–±–µ –≤–∞–∂–Ω—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Ñ–∏–∑–∏–∫–∞ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å ‚Äú–º–∏—Ä–∞‚Äù.

---

### üîπ –í–∞—Ä–∏–∞–Ω—Ç 3: –ì–∏–±—Ä–∏–¥ (DOM UI + Canvas —Å—Ç–æ–ª)

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –º–Ω–æ–≥–∏—Ö —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö tabletop —Å–∏–º—É–ª—è—Ç–æ—Ä–∞—Ö (–≤–µ–±-–≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö):

  * Canvas –¥–ª—è ‚Äú–º–∏—Ä–∞‚Äù (–∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è, –æ–±—ä–µ–∫—Ç–æ–≤, –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π, –∑—É–º–∞).
  * React/Reagent DOM-–æ–≤–µ—Ä–ª–µ–π –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –º–µ–Ω—é, –¥–∏–∞–ª–æ–≥–æ–≤, –ø–∞–Ω–µ–ª–µ–π.

üí° –≠—Ç–æ **–∑–æ–ª–æ—Ç–∞—è —Å–µ—Ä–µ–¥–∏–Ω–∞**:

  * Canvas —Ä–µ–Ω–¥–µ—Ä–∏—Ç –∫–æ–Ω—Ç–µ–Ω—Ç.
  * Reagent —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (Keechma orchestration, JSON ‚Üí –æ–±—ä–µ–∫—Ç—ã).
  * UI –æ—Å—Ç–∞—ë—Ç—Å—è –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º, –∞ —Ñ–∏–∑–∏–∫–∞ –∏ –¥–≤–∏–∂–µ–Ω–∏–µ ‚Äî –Ω–∞—Ç–∏–≤–Ω–æ –±—ã—Å—Ç—Ä—ã–º–∏.

---

### üîπ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

–î–ª—è —Ç–≤–æ–µ–π —Ü–µ–ª–∏:

> ‚Äú—Å–∏–º—É–ª—è—Ç–æ—Ä –Ω–∞—Å—Ç–æ–ª–∫–∏ —Å –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ–º, –∑—É–º–æ–º –∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–º —Å—Ç–æ–ª–æ–º‚Äù

‚úÖ **–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä:**
**Hybrid ‚Üí Reagent + Konva.js (—á–µ—Ä–µ–∑ react-konva)**

  * –¢—ã –º–æ–∂–µ—à—å —Ö—Ä–∞–Ω–∏—Ç—å –≤—Å—ë –æ–ø–∏—Å–∞–Ω–∏–µ –≤ Keechma‚Äôs `EDB` –∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –Ω–∞ Canvas.
  * –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å drag-n-drop –∏ –∑—É–º –º–æ–∂–Ω–æ –∑–∞ –≤–µ—á–µ—Ä (Konva –¥–∞—ë—Ç –≥–æ—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏).
  * –ü–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ/–º–∞—Å—à—Ç–∞–± ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω—ã.
  * –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±—Ä–æ—Å–æ–∫ –∫–æ—Å—Ç–∏) —ç–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–æ.

---

–•–æ—á–µ—à—å ‚Äî —è –ø–æ–∫–∞–∂—É –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä ‚ÄúKeechma + Reagent + react-konva‚Äù –ø—Ä–æ–µ–∫—Ç–∞,
–≥–¥–µ –º–æ–∂–Ω–æ:

  * –¥–≤–∏–≥–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã (drag),
  * –∑—É–º–∏—Ç—å –∫–æ–ª–µ—Å–æ–º,
  * –∏ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å —Å–∞–º ‚Äú—Å—Ç–æ–ª‚Äù (pan)?

–≠—Ç–æ –¥–∞—Å—Ç —Ç–µ–±–µ —Å—Ç–∞—Ä—Ç–æ–≤—É—é —Ç–æ—á–∫—É –¥–ª—è –±—É–¥—É—â–µ–≥–æ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞.
** –ß—Ç–æ –¥–µ–ª–∞–µ—Ç Konva.js

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å ‚Äî Konva.js ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∞, –º–æ–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å, **‚ÄúReact –¥–ª—è Canvas‚Äù**, —Ç–æ–ª—å–∫–æ –∑–∞—Ç–æ—á–µ–Ω–Ω—ã–π –ø–æ–¥ **–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é 2D-–≥—Ä–∞—Ñ–∏–∫—É**, —Ç–∏–ø–∞ —Ç–≤–æ–µ–≥–æ ‚Äú–Ω–∞—Å—Ç–æ–ª—å–Ω–æ–≥–æ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞‚Äù.

---

### üîπ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç Konva.js

**Konva.js** ‚Äî —ç—Ç–æ JavaScript-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å HTML5 Canvas,
–∫–æ—Ç–æ—Ä–∞—è –¥–æ–±–∞–≤–ª—è–µ—Ç:

  * **–°—Ü–µ–Ω—É (Stage)** –∏ **—Å–ª–æ–∏ (Layers)** ‚Äî –∫–∞–∫ –≤ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞—Ö.
  * **–û–±—ä–µ–∫—Ç—ã (Shapes)**: –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Ç–µ–∫—Å—Ç, –≥—Ä—É–ø–ø—ã.
  * **–°–æ–±—ã—Ç–∏—è**: `onClick`, `onDragMove`, `onMouseOver`, –∏ –¥–∞–∂–µ `onWheel`.
  * **–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏**: `x`, `y`, `scaleX`, `rotation` ‚Äî –≤—Å—ë —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ —Å–≤–æ–π—Å—Ç–≤–∞ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
  * **–•–∏—Ç-—Ç–µ—Å—Ç–∏–Ω–≥** –∏ **drag-and-drop** —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤–Ω—É—Ç—Ä–∏ ‚Äî —Ç–µ–±–µ –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –≤—ã—á–∏—Å–ª—è—Ç—å –ø–æ–ø–∞–¥–∞–Ω–∏—è –∫—É—Ä—Å–æ—Ä–∞ –ø–æ –ø–∏–∫—Å–µ–ª—è–º.

---

### üîπ –ü—Ä–∏–º–µ—Ä ‚ÄúHello Konva‚Äù

–í–æ—Ç –Ω–∞—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç –ø—Ä–∏–º–µ—Ä:

```clojure
(ns my-game.core
  (:require ["react-konva" :refer [Stage Layer Rect]]))

(defn canvas-view []
  [:> Stage {:width 800 :height 600}
   [:> Layer {}
    [:> Rect {:x 50 :y 60
              :width 100 :height 100
              :fill "red"
              :draggable true
              :onClick #(js/alert "clicked!")}]]])
```

üí° `[:> ...]` ‚Äî —ç—Ç–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Reagent –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
–¢—É—Ç:

  * `Stage` ‚Äî —ç—Ç–æ ‚Äú—Å—Ü–µ–Ω–∞‚Äù, –∞–Ω–∞–ª–æ–≥ —Ç–≤–æ–µ–≥–æ ‚Äú—Å—Ç–æ–ª–∞‚Äù.
  * `Layer` ‚Äî —Å–ª–æ–π (–∏—Ö –º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ, –∫–∞–∫ ‚Äú—Ñ–æ–Ω—ã‚Äù, ‚Äú–∫–∞—Ä—Ç—ã‚Äù, ‚Äú—Ñ–∏—à–∫–∏‚Äù).
  * `Rect` ‚Äî –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –¥–≤–∏–≥–∞—Ç—å –∏ —Å –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å.

---

### üîπ –ü–æ—á–µ–º—É –æ–Ω –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è tabletop

| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å                           | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ Konva                                            |
| ------------------------------------- | ------------------------------------------------------------- |
| –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ (drag-and-drop)        | `:draggable true`                                             |
| –ó—É–º –∏ –ø–∞–Ω–æ—Ä–∞–º–∞                        | —Å–ª—É—à–∞—Ç–µ–ª—å `onWheel` + `stage.scale()` –∏ `stage.position()`    |
| ‚Äú–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Å—Ç–æ–ª‚Äù                    | –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –¥–≤–∏–≥–∞—Ç—å `stage` –∏–ª–∏ –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å —Ç–∞–π–ª—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ |
| –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–æ—Ç–µ–Ω –æ–±—ä–µ–∫—Ç–æ–≤              | Canvas-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, –±–µ–∑ DOM overhead                            |
| –ì—Ä—É–ø–ø—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–ª–æ–¥–∞ –∫–∞—Ä—Ç)        | `Group` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç                                             |
| –≠—Ñ—Ñ–µ–∫—Ç—ã (—Ç–µ–Ω–∏, –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å, —Ñ–∏–ª—å—Ç—Ä—ã) | –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏ —Ñ–∏–ª—å—Ç—Ä—ã                                 |

---

### üîπ –ë–æ–Ω—É—Å ‚Äî React-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–ï—Å—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ **[react-konva](https://konvajs.org/docs/react/index.html)**,
–ø–æ—ç—Ç–æ–º—É —Ç—ã –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë –ø—Ä—è–º–æ –≤ **Reagent / Keechma** –±–µ–∑ –±–æ–ª–∏.
–í—Å—ë –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ –∏ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–∞–∫ –æ–±—ã—á–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

---

### üîπ –ò—Ç–æ–≥–æ

> üí¨ **Konva.js** ‚Äî —ç—Ç–æ –¥–≤–∏–∂–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç Canvas –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –∏ ‚Äú—Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–º‚Äù.
>
> ‚öôÔ∏è –ü–æ–¥—Ö–æ–¥–∏—Ç –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ç–≤–æ–µ–≥–æ tabletop —Å–∏–º—É–ª—è—Ç–æ—Ä–∞, –≥–¥–µ –≤—Å—ë –¥–æ–ª–∂–Ω–æ –¥–≤–∏–≥–∞—Ç—å—Å—è, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –Ω–µ —Ç–æ—Ä–º–æ–∑–∏—Ç—å.

---

–•–æ—á–µ—à—å, —è –ø–æ–∫–∞–∂—É —Ä–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä –Ω–∞ **Reagent + react-konva**,
–≥–¥–µ –º–æ–∂–Ω–æ –∏ **–ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å —Ñ–∏–≥—É—Ä—ã**, –∏ **–∑—É–º–∏—Ç—å –∫–æ–ª–µ—Å–æ–º**, –∏ **–¥–≤–∏–≥–∞—Ç—å ‚Äú—Å—Ç–æ–ª‚Äù** –º—ã—à—å—é ‚Äî –∫–∞–∫ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º –Ω–∞—Å—Ç–æ–ª—å–Ω–æ–º —Å–∏–º—É–ª—è—Ç–æ—Ä–µ?
** React-Konva –≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ Reagent/Keechma —Å—Ç–µ–∫
–î–∞ üòé ‚Äî **–æ–Ω–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ –≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Ç–≤–æ–π Reagent/Keechma —Å—Ç–µ–∫**, –ø–æ—Ç–æ–º—É —á—Ç–æ `react-konva` ‚Äî —ç—Ç–æ –æ–±—ã—á–Ω—ã–µ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã,
–∞ Reagent —É–º–µ–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å *–ª—é–±–æ–π* React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ö–∏–∫–∞–ø–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å.

–¢–∞–∫ —á—Ç–æ –¥–∞ ‚Äî **—Ç—ã –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Hiccup –∫–∞–∫ –æ–±—ã—á–Ω–æ** –∏ —Å–ø–æ–∫–æ–π–Ω–æ **—Ñ–æ—Ä–≤–∞—Ä–¥–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** –∏–∑ Keechma/Reagent –≤ `react-konva`.
–î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º —ç—Ç–æ —á—É—Ç—å –≥–ª—É–±–∂–µ, —á—Ç–æ–±—ã –Ω–µ –æ—Å—Ç–∞–≤–∞–ª–æ—Å—å ‚Äú–º–∞–≥–∏–∏‚Äù.

---

### üîπ 1. React-Konva ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ JS –æ–Ω–∏ –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫:

```jsx
<Stage>
  <Layer>
    <Rect x={10} y={10} width={100} height={100} draggable={true} />
  </Layer>
</Stage>
```

---

### üîπ 2. –í Reagent (–∏ Keechma) —Ç—ã –ø–∏—à–µ—à—å —Ç–æ –∂–µ —Å–∞–º–æ–µ –≤ Hiccup

Reagent –∏–º–µ–µ—Ç —Å–ø–µ—Ü-—Ñ–æ—Ä–º—É `:>` –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

```clojure
(ns myapp.ui.board
  (:require ["react-konva" :refer [Stage Layer Rect]]))

(defn board []
  [:> Stage {:width 800 :height 600}
   [:> Layer {}
    [:> Rect {:x 50 :y 50
              :width 100 :height 100
              :fill "skyblue"
              :draggable true
              :onClick #(js/console.log "Clicked!")}]])
```

üí° –ó–¥–µ—Å—å `:>` –æ–∑–Ω–∞—á–∞–µ—Ç ‚Äú–∏—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞–ø—Ä—è–º—É—é‚Äù,
–∞ –≤—Å–µ `props` (`:width`, `:height`, `:fill`, `:onClick`) –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è 1:1.

---

### üîπ 3. Keechma-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ‚Äî –Ω–∞—Ç–∏–≤–Ω–∞—è

Keechma —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Reagent-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, –ø–æ—ç—Ç–æ–º—É `react-konva`
–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ Keechma views**.

–ù–∞–ø—Ä–∏–º–µ—Ä:

```clojure
(ns app.ui.main
  (:require
   [keechma.ui-component :as ui]
   ["react-konva" :refer [Stage Layer Circle]]))

(defn render [ctx]
  [:div.game-container
   [:> Stage {:width 800 :height 600}
    [:> Layer {}
     [:> Circle {:x 100 :y 100
                 :radius 40
                 :fill "tomato"
                 :draggable true
                 :onDragMove
                   (fn [e]
                     (ui/dispatch ctx :move-token
                       {:x (.. e -target -x)
                        :y (.. e -target -y)}))}]]]])
```

üí° –ó–¥–µ—Å—å —Ç—ã:

  * –ò—Å–ø–æ–ª—å–∑—É–µ—à—å Keechma `ctx` –∫–∞–∫ –æ–±—ã—á–Ω–æ.
  * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Å–æ–±—ã—Ç–∏—è Konva (–Ω–∞–ø—Ä–∏–º–µ—Ä `onDragMove`).
  * –î–∏—Å–ø–∞—Ç—á–∏—à—å –∫–æ–º–∞–Ω–¥—ã Keechma (—á–µ—Ä–µ–∑ `ui/dispatch`).

---

### üîπ 4. –î–∞, –º–æ–∂–Ω–æ ‚Äú—Ñ–æ—Ä–≤–∞—Ä–¥–∏—Ç—å‚Äù –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

–¢—ã –º–æ–∂–µ—à—å —Å–ø–æ–∫–æ–π–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ `[:> Group]` –∏–ª–∏ `[:> Rect]`
–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –ø—Ä–æ–∫–∏–¥—ã–≤–∞—Ç—å –∏—Ö –∫–∞–∫ –¥–æ—á–µ—Ä–Ω–∏–µ ‚Äî –∫–∞–∫ –±—É–¥—Ç–æ —ç—Ç–æ –æ–±—ã—á–Ω—ã–π DOM:

```clojure
(defn card [props]
  [:> Group props
   [:> Rect {:width 60 :height 90 :fill "white" :stroke "black"}]
   [:> Text {:text (:title props) :x 5 :y 5 :fontSize 14}]])
```

–ê –ø–æ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```clojure
[:> Layer {}
 [card {:x 100 :y 100 :title "Ace of Spades"}]
 [card {:x 200 :y 120 :title "Queen of Hearts"}]]
```

–¢–æ –µ—Å—Ç—å ‚Äî –¥–∞, **—Ç—ã –º–æ–∂–µ—à—å —Ñ–æ—Ä–≤–∞—Ä–¥–∏—Ç—å —Å–≤–æ–∏ Reagent-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä—è–º–æ –≤ Canvas-–∏–µ—Ä–∞—Ä—Ö–∏—é Konva**, –∫–∞–∫ –±—É–¥—Ç–æ —ç—Ç–æ –æ–±—ã—á–Ω—ã–µ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

---

### üîπ 5. –ú–∏–∫—Å Keechma + JSON –æ–ø–∏—Å–∞–Ω–∏–π

–¢—ã –¥–∞–∂–µ –º–æ–∂–µ—à—å —Ö—Ä–∞–Ω–∏—Ç—å JSON –≤—Ä–æ–¥–µ:

```json
[
  {"type": "card", "x": 100, "y": 100, "title": "Ace"},
  {"type": "dice", "x": 300, "y": 150, "sides": 6}
]
```

–∏ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏:

```clojure
(for [item items]
  (case (:type item)
    "card" [card item]
    "dice" [dice item]))
```

–¢–∞–∫ —Ç—ã –ø–æ–ª—É—á–∏—à—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ Canvas
–ø–æ JSON-–æ–ø–∏—Å–∞–Ω–∏—è–º ‚Äî –∫–∞–∫ —Ç—ã –∏ —Ö–æ—Ç–µ–ª –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ.

---

–•–æ—á–µ—à—å ‚Äî —è –ø–æ–∫–∞–∂—É —Ç–µ–±–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π **Keechma + Reagent + react-konva** –ø—Ä–∏–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞,
–≥–¥–µ –µ—Å—Ç—å ‚Äú—Å—Ç–æ–ª‚Äù, –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ –∫–∞–º–µ—Ä–∞ (–ø–∞–Ω/–∑—É–º)?
–ú–æ–∂–Ω–æ –ø—Ä—è–º–æ –Ω–∞ –±–∞–∑–µ skeleton‚Äô–∞ Keechma.
** –ò–¥–µ–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ tabletop-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å ‚Äî –∏ —Ç—ã –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —É–∂–µ –º—ã—Å–ª–µ–Ω–Ω–æ —Å—Ç–æ–∏—à—å **–Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ –¥–≤—É—Ö –º–∏—Ä–æ–≤**:
üß† *–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ Reagent/React UI* –∏ üéÆ *–∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ Canvas-–º–∏—Ä–∞ Konva*.
–ü–æ–Ω—è—Ç—å, –≥–¥–µ –∫–æ–Ω—á–∞–µ—Ç—Å—è –æ–¥–Ω–æ –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –¥—Ä—É–≥–æ–µ ‚Äî —ç—Ç–æ –∫–ª—é—á –∫ –∫—Ä–∞—Å–∏–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ tabletop-—Å–∏–º—É–ª—è—Ç–æ—Ä–∞.

–î–∞–≤–∞–π –∞–∫–∫—É—Ä–∞—Ç–Ω–æ —Ä–∞–∑–¥–µ–ª–∏–º —Ä–æ–ª–∏, —á—Ç–æ–±—ã —Ç—ã —á—ë—Ç–∫–æ –≤–∏–¥–µ–ª, **–≥–¥–µ Reagent –Ω–µ–∑–∞–º–µ–Ω–∏–º**, –∞ –≥–¥–µ **Konva —Ä—É–ª–∏—Ç**.

---

## üîπ –ì–¥–µ –Ω—É–∂–µ–Ω **Reagent** (–∏ –∑–Ω–∞—á–∏—Ç Keechma)

Reagent –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–≤–æ–∏–º ‚Äú–º–æ–∑–≥–æ–º‚Äù –∏ ‚Äú–ø–∞–Ω–µ–ª—å—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è‚Äù:

  * –£–ø—Ä–∞–≤–ª—è–µ—Ç **—Å–æ—Å—Ç–æ—è–Ω–∏–µ–º** (Keechma EDB, subscriptions, commands).
  * –†–∏—Å—É–µ—Ç **UI –≤–Ω–µ Canvas** ‚Äî –º–µ–Ω—é, –ø–∞–Ω–µ–ª–∏, –ø–æ–ø–∞–ø—ã, –º–æ–¥–∞–ª–∫–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —á–∞—Ç—ã, –ª–æ–≥ –¥–µ–π—Å—Ç–≤–∏–π, —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –∫–æ–ª–æ–¥ –∏ —Ç.–¥.
  * –†–µ–∞–ª–∏–∑—É–µ—Ç **—Ä–µ–∞–∫—Ç–∏–≤–Ω—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É** ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –∫–∞—Ä—Ç–∞ –≤—ã–ª–æ–∂–µ–Ω–∞ –Ω–∞ —Å—Ç–æ–ª, Keechma –æ–±–Ω–æ–≤–ª—è–µ—Ç –µ—ë –ø–æ–∑–∏—Ü–∏—é, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Å —Å–µ—Ä–≤–µ—Ä–æ–º, —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ —Ç.–¥.
  * –•—Ä–∞–Ω–∏—Ç –≤—Å—ë –∫–∞–∫ **–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**, –∞ –Ω–µ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ Canvas-–∫–æ–º–∞–Ω–¥—ã.

üí° –ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è:

> Reagent/Keechma —É–ø—Ä–∞–≤–ª—è–µ—Ç ‚Äú–º–æ–¥–µ–ª—å—é –∏–≥—Ä—ã‚Äù, –∞ Konva —Ç–æ–ª—å–∫–æ —Ä–∏—Å—É–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —ç—Ç–æ–π –º–æ–¥–µ–ª–∏.

---

## üîπ –ì–¥–µ –Ω—É–∂–µ–Ω **Konva.js**

Konva ‚Äî —ç—Ç–æ —Ç–≤–æ–π **—Ä–µ–Ω–¥–µ—Ä–µ—Ä –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —Å–ª–æ–π**:

  * –í—Å—ë, —á—Ç–æ **–¥–≤–∏–∂–µ—Ç—Å—è, –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ—Ç—Å—è, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è**.
  * –í—Å—ë, –≥–¥–µ –≤–∞–∂–Ω–∞ **–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** (Canvas –±—ã—Å—Ç—Ä–µ–µ DOM).
  * –í—Å—ë, –≥–¥–µ UI –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å ‚Äú–∏–≥—Ä–æ–≤—ã–º‚Äù, –∞ –Ω–µ ‚Äú—Ñ–æ—Ä–º–æ–≤—ã–º‚Äù.

–ü—Ä–∏–º–µ—Ä—ã:

  * –ö–∞—Ä—Ç—ã, —Ñ–∏—à–∫–∏, –∫–æ—Å—Ç–∏, —Ç–∞–π–ª—ã, –º–∞—Ä–∫–µ—Ä—ã.
  * –°—Ç–æ–ª —Å –ø–∞–Ω–æ—Ä–∞–º–æ–π –∏ –∑—É–º–æ–º.
  * –ê–Ω–∏–º–∞—Ü–∏–∏ –±—Ä–æ—Å–∫–æ–≤, –ø–æ–¥—Å–≤–µ—Ç–∫–∏, —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π –∏ —Ç.–¥.

---

## üîπ –ß—Ç–æ –ø—Ä–æ—â–µ –Ω–µ –¥–µ–ª–∞—Ç—å –Ω–∞ Konva –≤—Ä—É—á–Ω—É—é

Konva ‚Äî —à–∏–∫–∞—Ä–µ–Ω, –Ω–æ –Ω–µ —Å—Ç–æ–∏—Ç –Ω–∞—Å–∏–ª–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è –≤–µ—â–µ–π, –≥–¥–µ React –ª—É—á—à–µ.
–í–æ—Ç —á—Ç–æ **–ª—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å Reagent-—É**:

| –ó–∞–¥–∞—á–∞                                        | –ü–æ—á–µ–º—É Reagent –ø—Ä–æ—â–µ                                              |
| --------------------------------------------- | ----------------------------------------------------------------- |
| –ú–µ–Ω—é, –∫–Ω–æ–ø–∫–∏, —Ç—É–ª–±–∞—Ä—ã, –≤—ã–ø–∞–¥–∞—à–∫–∏              | DOM –∏–º–µ–µ—Ç –≥–æ—Ç–æ–≤—É—é —Å–µ–º–∞–Ω—Ç–∏–∫—É, —Å—Ç–∏–ª–∏ –∏ —Ñ–æ–∫—É—Å-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç             |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Ñ–æ—Ä–º—ã                             | –†–µ–∞–∫—Ç–∏–≤–Ω—ã–π state –∏ input-–∫–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–æ—â–µ –≤ React                   |
| –û–∫–Ω–∞ –¥–∏–∞–ª–æ–≥–æ–≤ (‚ÄúSave Game?‚Äù, ‚ÄúInvite Player‚Äù) | Keechma —É–∂–µ —É–º–µ–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–∞–∫–∏–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏                    |
| Tooltip‚Äô—ã, –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏              | DOM-–æ–≤–µ—Ä–ª–µ–π –ø—Ä–æ—â–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ—Ä—Ö Canvas                   |
| –°–µ—Ä–≤–µ—Ä–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ                      | Keechma commands/subscriptions ‚Äî –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–± –¥–ª—è —Å–µ—Ç–µ–≤–æ–π –ª–æ–≥–∏–∫–∏ |

---

## üîπ –ì–¥–µ **Reagent –∏ Konva –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ**

–¢–∞–º, –≥–¥–µ –Ω—É–∂–Ω–æ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Canvas-–æ–±—ä–µ–∫—Ç–∞–º–∏.
–ù–∞–ø—Ä–∏–º–µ—Ä:

```clojure
(defn card [ctx {:keys [x y title selected?]}]
  [:> Group {:x x :y y :draggable true
             :onClick #(ui/dispatch ctx :select-card title)}
   [:> Rect {:width 60 :height 90
             :fill (if selected? "gold" "white")
             :stroke "black"}]
   [:> Text {:text title :x 5 :y 5 :fontSize 14}]])
```

üí° –ó–¥–µ—Å—å Reagent —Ä–µ–Ω–¥–µ—Ä–∏—Ç Konva-–æ–±—ä–µ–∫—Ç,
–Ω–æ `selected?` –±–µ—Ä—ë—Ç—Å—è –∏–∑ **Keechma state** ‚Äî —Ç.–µ. UI –æ—Å—Ç–∞—ë—Ç—Å—è –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º.
–ï—Å–ª–∏ `selected?` –ø–æ–º–µ–Ω—è–ª—Å—è, Reagent —Å–∞–º –æ–±–Ω–æ–≤–∏—Ç `fill`, –Ω–µ –Ω—É–∂–Ω–æ —Ä—É–∫–∞–º–∏ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å Canvas.

---

## üîπ –ò–¥–µ–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ tabletop-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```
Keechma (App state)
‚îú‚îÄ‚îÄ UI (Reagent)
‚îÇ   ‚îú‚îÄ‚îÄ –ü–∞–Ω–µ–ª–∏, –º–µ–Ω—é, –º–æ–¥–∞–ª–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ HUD, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —á–∞—Ç
‚îî‚îÄ‚îÄ Scene (Konva)
    ‚îú‚îÄ‚îÄ –°–ª–æ–π —Å—Ç–æ–ª–∞ (background, grid)
    ‚îú‚îÄ‚îÄ –°–ª–æ–π –æ–±—ä–µ–∫—Ç–æ–≤ (–∫–∞—Ä—Ç—ã, –∫–æ—Å—Ç–∏, —Ñ–∏–≥—É—Ä—ã)
    ‚îî‚îÄ‚îÄ –°–ª–æ–π —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (highlight, selection)
```

üì¶ –í—Å—è –ª–æ–≥–∏–∫–∞ ‚Äî –≤ Keechma.
üé® –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî –≤ Konva.
üß© –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è ‚Äî —á–µ—Ä–µ–∑ Reagent.

---

## üîπ –í—ã–≤–æ–¥

–ò—Å–ø–æ–ª—å–∑—É–π Reagent:

  * –∫–∞–∫ **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** (Keechma);
  * –∫–∞–∫ **–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è –≤—Å–µ–≥–æ –≤–Ω–µ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è;
  * –∫–∞–∫ **–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—É—é –ø—Ä–æ—Å–ª–æ–π–∫—É** –∫ Konva.

–ò—Å–ø–æ–ª—å–∑—É–π Konva:

  * –∫–∞–∫ **—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥-–¥–≤–∏–∂–æ–∫** –∏ **–ø–æ–≤–µ–¥–µ–Ω–∏–µ** –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤–Ω—É—Ç—Ä–∏ –ø–æ–ª—è.

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —è –ø–æ–∫–∞–∂—É **–∂–∏–≤–æ–π –ø—Ä–∏–º–µ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**
(—Å Keechma routes, EDB, Reagent views –∏ react-konva —Å—Ü–µ–Ω–æ–π),
–≥–¥–µ –µ—Å—Ç—å –ø–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (Reagent) –∏ –ø–æ–ª–µ —Å –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ (Konva)?
* Docs
** —Ç—É—Ç–æ—Ä–∏–∞–ª—Å
*** konva
https://www.youtube.com/watch?v=iUm2wHHel4s

https://www.youtube.com/watch?v=VbhaiPFEnko

https://www.youtube.com/watch?v=19L5DbC2Ye4
** exempls
*** learn-reagent-free
**** path
/home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files
**** comment
Learn simple, clean, and robust way to build SPA (Single-Page Applications) with ClojureScript & Reagent. Build GIGGIN an app that shows local gigs. Step-by-step, component-by-component we'll learn how to build SPAs with ClojureScript. We'll work with remote API. Learn how easy it is to interop with JS and npm and much more ‚Ä¶ . This video course will take you from zero to deployment in a few afternoons.
Course files

The code in this repo is split into two folders - giggin - starting point of the videos (this is what you should open when you start to code along with the vidoes) and - increments - code for the start of each video (if you get lost somewhere along the way just copy the content of the video you are starting and continue).
**** Clone

$ git clone git@github.com:jacekschae/learn-reagent-course-files.git

$ cd learn-reagent-course-files/giggin/
**** Install dependesis

learn-reagent-course-files/giggin/ $ npm install

or with yarn

learn-reagent-course-files/giggin/ $ yarn install

Run development server

learn-reagent-course-files/giggin/ $ npm run dev

or with yarn

learn-reagent-course-files/giggin/ $ yarn dev
*** file worder-cljs-project.org
(find-file-other-frame "/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/worder/worder-cljs-project.org")
*** my-cljs-project.org
(find-file-other-frame "/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/my-cljs-project.org")
** brain
[[file:~/Dropbox/orgs/org-Brain/ClojureScript Idioms.org]]
[[file:~/Dropbox/orgs/org-Brain/ClojureScript Idioms.org::*link to turials][link to turials]]
* TODO
** DONE push to git
** DONE –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç
** —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
** –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫
** –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–µ–∫—Ç 
** –∏–∑—á–∞—Ç—å –≤–∏–¥–µ–æ
** error
*** src
(ns giggin.core.components.gigs)

(defn gigs
  []
  [:gigs "gigs"])
  ;; [:header "header"]
  ;; [:orders "orders"]
  ;; [:footer "footer"]
*** error
(require '[giggin.core.components.gigs :refer [gigs]])

------ REPL Error while processing ---------------------------------------------
(require '[giggin.core.components.gigs :refer [gigs]])
The required namespace "giggin.core.components.gigs" is not available, it was required by "giggin/core.cljs".

nil
giggin.core> 
*** –ø–æ—á–µ–º—É –ª–æ–≤–ª—é –æ—à–∏–±–∫—É?
–ø–æ–º–æ–≥–∏ –ø–æ–Ω—è—Ç—å –ø—Ä–∏—á–∏–Ω—É –æ—à–∏–±–∫–∏ –≤ Shadow-CLJS —Ä–µ–ø–ª.

** error web
*** src
**** file gigs.cljs
(find-file-other-frame "./src/giggin/components/gigs.cljs")
**** src gigs.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.core.components.gigs)

(defn gigs
  []
  [:gigs "gigs"])
  ;; [:header "header"]
  ;; [:orders "orders"]
  ;; [:footer "footer"]



#+end_src

#+RESULTS:
: Please reevaluate when nREPL is connected

**** file core.cljs
(find-file-other-frame "./src/giggin/core.cljs")
**** src core.cljs
#+begin_src clojure :no-expand t :mkdirp yes
(ns giggin.core
  (:require [reagent.core :as r]
            [giggin.core.components.gigs :refer [gigs]]))

(defn app
  []
  [:div.container
   [:header "header"]
   ;; [:gigs "gigs"]
   [gigs]
   [:orders "orders"]
   [:footer "footer"]])

(defn ^:export main
  []
  (r/render
    [app]
    (.getElementById js/document "app")))


#+end_src

#+RESULTS:
: Please reevaluate when nREPL is connected
*** error
Compilation failed!

The required namespace "giggin.core.components.gigs" is not available, it was required by "giggin/core.cljs".
*** –ø–æ—á–µ–º—É –ª–æ–≤–ª—é –æ—à–∏–±–∫—É?
–ø–æ–º–æ–≥–∏ –ø–æ–Ω—è—Ç—å –ø—Ä–∏—á–∏–Ω—É –æ—à–∏–±–∫–∏ –≤ Shadow-CLJS –≤ –±—Ä–∞—É–∑–µ—Ä–µ —ç—Ç–∞ –æ—à–∏–±–∫–∞ —Ç–æ–∂–µ –µ—Å—Ç—å.

* DONE arhiv
** DONE git clone –≤ –∫–ª–æ–∂—É—Ä
git clone https://github.com/jacekschae/learn-reagent-course-files.git
git clone git@github.com:jacekschae/learn-reagent-course-files.git

https://github.com/jacekschae/learn-reagent-course-files?tab=readme-ov-file
/home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files
** DONE —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ —Ç—É—Ç–æ—Ä–∏–∞–ª–µ
/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/giggin

—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ä–æ–≤ –∏–∑ [[*git clone –≤ –∫–ª–æ–∂—É—Ä][git clone –≤ –∫–ª–æ–∂—É—Ä]]
/home/buyn/Dev/ClojureScript/tutorials/learn-reagent-course-files
/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/giggin
** DONE —Å–¥–µ–ª–∞—Ç—å –æ—Ä–≥ learn-reagent-free
** DONE –≤ —Ç—É—Ç–æ—Ä–∞–ª
** DONE —Å–¥–µ–ª–∞—Ç—å —Å—ã–ª–∫—É –≤ —Ç—É—Ç–æ—Ä–∞–ª—Å
** DONE —Å—É–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ä–≥
–º–æ–∂–Ω–æ –≤–∑—è—Ç—å –∑–∞ –æ—Å–Ω–æ–≤—É –ø—É—Å—Ç–æ–π
–µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
—Å–∫–ª–æ–Ω–∏—Ç—å
–≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏—è –≤ –æ—Ä–≥
* backlog
* project comands
:PROPERTIES:
:header-args: :tangle no
:END:
** –ø–æ–∏—Å–∫ –ø–æ –ø—Ä–æ–µ–∫—Ç—É
*** 
**** dropbox in org
#+begin_src sh  
grep --include=\*.cljs -rnw ./ -e ":todos-by-status"
#+end_src       

#+RESULTS:
| ./src/keechma_todomvc/components/todo_list.cljs:18:-                     | `:todos-by-status` | returns           | `todos`         | with  | a   | `status`         |                    |
| ./src/keechma_todomvc/components/todo_list.cljs:26:                      | (doall             | (map              | todo-item       | (sub> | ctx | :todos-by-status | route-status)))])) |
| ./src/keechma_todomvc/components/todo_list.cljs:31:                      | :subscription-deps | [:todos-by-status |                 |       |     |                  |                    |
| ./src/keechma_todomvc/subscriptions.cljs:48:(def                         | subscriptions      | {:todos-by-status | todos-by-status |       |     |                  |                    |
| ./resources/public/js/dev/keechma_todomvc/components/todo_list.cljs:18:- | `:todos-by-status` | returns           | `todos`         | with  | a   | `status`         |                    |
| ./resources/public/js/dev/keechma_todomvc/components/todo_list.cljs:26:  | (doall             | (map              | todo-item       | (sub> | ctx | :todos-by-status | route-status)))])) |
| ./resources/public/js/dev/keechma_todomvc/components/todo_list.cljs:31:  | :subscription-deps | [:todos-by-status |                 |       |     |                  |                    |
| ./resources/public/js/dev/keechma_todomvc/subscriptions.cljs:48:(def     | subscriptions      | {:todos-by-status | todos-by-status |       |     |                  |                    |


**** dropbox in org
#+begin_src sh  
grep --include=\*.cljs -rnw ./ -e "reagent.core"
#+end_src       

#+RESULTS:
| ./src/keechma_todomvc/components/new_todo.cljs:5:                          | [reagent.core    | :as             | reagent])) |         |        |           |
| ./target/public/cljs-out/dev/reagent/core.cljs:1:(ns                       | reagent.core     |                 |            |         |        |           |
| ./target/public/cljs-out/dev/reagent/core.cljs:2:                          | (:require-macros | [reagent.core]) |            |         |        |           |
| ./target/public/cljs-out/dev/keechma_todomvc/components/new_todo.cljs:5:   | [reagent.core    | :as             | reagent])) |         |        |           |
| ./target/public/cljs-out/dev/keechma_todomvc/components/todo_edit.cljs:5:  | [reagent.core    | :as             | reagent])) |         |        |           |
| ./target/public/cljs-out/dev/keechma/app_state/react_native_router.cljs:3: | [reagent.core    | :as             | r]         |         |        |           |
| ./target/public/cljs-out/dev/keechma/app_state.cljs:2:                     | (:require        | [reagent.core   | :as        | reagent | :refer | [cursor]] |


** files other
find "$PWD" -type f >>filepath.txt

(find-file-other-frame "./README.md")
(find-file-other-frame "./figwheel_server.log")
** repl
*** run eshell in project root
clojure -M:fig:build
:cljs/quit
:cljs/restart

clj -M:dev
clojure -m cljs.main --compile my-cljs-project.core --repl


clojure -P
clojure -M:fig:clean
clojure -M:fig:build

#+begin_src elisp :results output silent :dir ./notes/
(evil-previous-line)
(org-cycle)
(delete-other-windows)
(let (buffer-name-to-close (buffer-name))
        (evil-window-split)
        (eshell)
        (evil-quit)
        (switch-to-buffer-other-frame buffer-name-to-close))
#+end_src

      ;; (execute-kbd-macro "A \C-m")
*** run eshell in org root
clj -M:dev
clojure -m cljs.main --compile my-cljs-project.core --repl
#+begin_src elisp :results output silent
(evil-previous-line)
(org-cycle)
(delete-other-windows)
(let (buffer-name-to-close (buffer-name))
        (evil-window-split)
        (eshell)
        (evil-quit)
        (switch-to-buffer-other-frame buffer-name-to-close))
#+end_src

      ;; (execute-kbd-macro "A \C-m")
*** run repl
clj -M:dev
clojure -m cljs.main --compile my-cljs-project.core --repl

clojure -M:fig:build
:cljs/quit
:cljs/restart
#+begin_src eshell
clj -m cljs.main --compile my-cljs-project.core --repl


#+end_src

#+RESULTS:
*** repl commands
:cljs/quit
*** repl test
(js/alert "Am I connected?")
** new project
clj -X:new :template figwheel-main :name learn-cljs/notes :args '["+deps" "--reagent"]'

{:deps {org.clojure/clojure {:mvn/version "1.10.0"}
        org.clojure/clojurescript {:mvn/version "1.10.773"}
        reagent/reagent {:mvn/version "1.0.0"}
        funcool/bide {:mvn/version "1.6.0"}
        camel-snake-kebab/camel-snake-kebab {:mvn/version "0.4.2"}}

$ clj -X:new :template figwheel-main :name learn-cljs/weather :args 
[[file:~/Dropbox/orgs/org-Brain/ClojureScript Idioms.org::*2025-09-04T11:12:30+03:00][2025-09-04T11:12:30+03:00]]
** cider
If you have a Clojure project in your file system and want CIDER to launch an nREPL session for it, simply visit a file that belongs to the project, and type M-x cider-jack-in RET.[1] CIDER will start an nREPL server and automatically connect to it.
  In Clojure(Script) buffers the command cider-jack-in is bound to C-c C-x (C-)j (C-)j. 

** console
*** run console in org root
clj -M:dev
clojure -m cljs.main --compile my-cljs-project.core --repl
#+begin_src elisp :results output silent
(buyn-shell-start "konsole")
(evil-previous-line)
(org-cycle)
(delete-other-windows)
#+end_src

*** run console with command
#+begin_src elisp :results output silent
(buyn-shell-start "konsole -e /bin/bash --rcfile <(clj -M:dev)")
(evil-previous-line)
(org-cycle)
(delete-other-windows)
#+end_src

** auto-tangle-block:
#+NAME: auto-tangle-block
#+begin_src emacs-lisp :results output silent :tangle no
(setq org-src-preserve-indentation t)
(untabify (point-min) (point-max))
(save-buffer)
;; (universal-argument)
;; (universal-argument)
(org-babel-tangle)
(evil-close-fold)
(evil-close-fold)
;; (find-file-other-frame "reagent-test/src/learn_cljs/reagent_test.cljs")
;; (find-file-other-frame "~/INI/hydra-cfg.el")
;; (load "~/INI/hydra-cfg.el")
;; (load "~/ELs/BuYn/reader.el")
 #+end_src
* 2025-11-17
** giggin.org
(find-file-other-frame "~/Dev/ClojureScript/tutorials/my-cljs-project/giggin/giggin.org")
** Necroteuch.org:
#+begin_src emacs-lisp :tangle no
(find-file-other-frame "~/../Dropbox/orgs/capture/Necroteuch.org")
#+end_src
