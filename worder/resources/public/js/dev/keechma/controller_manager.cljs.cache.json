["^ ","~:rename-macros",["^ "],"~:renames",["^ "],"~:externs",["^ ","~$Error",["^ "],"~$goog",["^ ","~$DEBUG",["^ "]],"~$console",["^ ","~$warn",["^ "]],"~$Object",["^ "]],"~:use-macros",["^ ","~$go","~$cljs.core.async.macros","~$go-loop","^;"],"~:excludes",["~#set",[]],"~:name","~$keechma.controller-manager","~:imports",null,"~:requires",["^ ","~$cljs.core.async","^C","~$keechma.util","^D","~$controller","~$keechma.controller","^F","^F","~$reporter","~$keechma.reporter","^H","^H"],"~:cljs.spec/speced-vars",[],"~:uses",["^ ","~$timeout","^C","~$dissoc-in","^D","~$<!","^C","~$close!","^C","~$chan","^C","~$>!","^C","~$alts!","^C","~$put!","^C","~$SerializedController","^F"],"~:defs",["^ ","~$apply-start-or-wake-controllers",["^ ","~:protocol-inline",null,"~:meta",["^ ","~:file","/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/js/dev/keechma/controller_manager.cljs","~:line",70,"~:column",7,"~:end-line",70,"~:end-column",38,"~:arglists",["~#list",["~$quote",["^12",[["~$action","~$reporter-action","~$app-db","^G","~$controllers","~$commands-chan","~$get-running","~$active-topics","~$start-or-wake"]]]]]],"^?","~$keechma.controller-manager/apply-start-or-wake-controllers","^X","resources/public/js/dev/keechma/controller_manager.cljs","^10",38,"~:method-params",["^12",[["^14","^15","^16","^G","^17","^18","^19","^1:","^1;"]]],"~:protocol-impl",null,"~:arglists-meta",["^12",[null,null]],"^Z",1,"~:variadic?",false,"^Y",70,"^[",70,"~:max-fixed-arity",9,"~:fn-var",true,"^11",["^12",["^13",["^12",[["^14","^15","^16","^G","^17","^18","^19","^1:","^1;"]]]]]],"~$report-running-controllers",["^ ","^V",null,"^W",["^ ","^X","/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/js/dev/keechma/controller_manager.cljs","^Y",29,"^Z",7,"^[",29,"^10",33,"^11",["^12",["^13",["^12",[["~$app-db-atom"]]]]]],"^?","~$keechma.controller-manager/report-running-controllers","^X","resources/public/js/dev/keechma/controller_manager.cljs","^10",33,"^1=",["^12",[["^1D"]]],"^1>",null,"^1?",["^12",[null,null]],"^Z",1,"^1@",false,"^Y",29,"~:ret-tag",["^>",[null,"~$any"]],"^[",29,"^1A",1,"^1B",true,"^11",["^12",["^13",["^12",[["^1D"]]]]]],"~$apply-stop-controllers",["^ ","^V",null,"^W",["^ ","^X","/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/js/dev/keechma/controller_manager.cljs","^Y",53,"^Z",7,"^[",53,"^10",29,"^11",["^12",["^13",["^12",[["^16","^G","~$stop"]]]]]],"^?","~$keechma.controller-manager/apply-stop-controllers","^X","resources/public/js/dev/keechma/controller_manager.cljs","^10",29,"^1=",["^12",[["^16","^G","^1I"]]],"^1>",null,"^1?",["^12",[null,null]],"^Z",1,"^1@",false,"^Y",53,"^[",53,"^1A",3,"^1B",true,"^11",["^12",["^13",["^12",[["^16","^G","^1I"]]]]]],"~$send-command-to",["^ ","^V",null,"^W",["^ ","^X","/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/js/dev/keechma/controller_manager.cljs","^Y",8,"^Z",17,"^[",8,"^10",32,"~:private",true,"^11",["^12",["^13",["^12",[["^G","^E","~$command-name","~$args"],["^G","^E","^1M","^1N","~$origin"]]]]],"~:top-fn",["^ ","^1@",false,"~:fixed-arity",5,"^1A",5,"^1=",["^12",[["^G","^E","^1M","^1N"],["^G","^E","^1M","^1N","^1O"]]],"^11",["^12",[["^G","^E","^1M","^1N"],["^G","^E","^1M","^1N","^1O"]]],"^1?",["^12",[null,null]]]],"^1L",true,"^?","~$keechma.controller-manager/send-command-to","^X","resources/public/js/dev/keechma/controller_manager.cljs","^10",32,"^1P",["^ ","^1@",false,"^1Q",5,"^1A",5,"^1=",["^12",[["^G","^E","^1M","^1N"],["^G","^E","^1M","^1N","^1O"]]],"^11",["^12",[["^G","^E","^1M","^1N"],["^G","^E","^1M","^1N","^1O"]]],"^1?",["^12",[null,null]]],"^1=",["^12",[["^G","^E","^1M","^1N"],["^G","^E","^1M","^1N","^1O"]]],"^1>",null,"^1Q",5,"^1?",["^12",[null,null]],"^Z",1,"^1@",false,"~:methods",[["^ ","^1Q",4,"^1@",false,"~:tag","^1G"],["^ ","^1Q",5,"^1@",false]],"^Y",8,"^[",8,"^1A",5,"^1B",true,"^11",["^12",[["^G","^E","^1M","^1N"],["^G","^E","^1M","^1N","^1O"]]]],"~$apply-wake-controllers",["^ ","^?","~$keechma.controller-manager/apply-wake-controllers","^X","resources/public/js/dev/keechma/controller_manager.cljs","^Y",95,"^Z",1,"^[",95,"^10",28,"^W",["^ ","^X","/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/js/dev/keechma/controller_manager.cljs","^Y",95,"^Z",6,"^[",95,"^10",28],"^1T","~$function"],"~$apply-route-change",["^ ","^V",null,"^W",["^ ","^X","/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/js/dev/keechma/controller_manager.cljs","^Y",111,"^Z",7,"^[",111,"^10",25,"^11",["^12",["^13",["^12",[["^G","~$route-params","^1D","^18","^17"]]]]]],"^?","~$keechma.controller-manager/apply-route-change","^X","resources/public/js/dev/keechma/controller_manager.cljs","^10",25,"^1=",["^12",[["^G","^1Y","^1D","^18","^17"]]],"^1>",null,"^1?",["^12",[null,null]],"^Z",1,"^1@",false,"^Y",111,"^1F","^1G","^[",111,"^1A",5,"^1B",true,"^11",["^12",["^13",["^12",[["^G","^1Y","^1D","^18","^17"]]]]]],"~$apply-start-controllers",["^ ","^?","~$keechma.controller-manager/apply-start-controllers","^X","resources/public/js/dev/keechma/controller_manager.cljs","^Y",94,"^Z",1,"^[",94,"^10",29,"^W",["^ ","^X","/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/js/dev/keechma/controller_manager.cljs","^Y",94,"^Z",6,"^[",94,"^10",29],"^1T","^1W"],"~$start-ssr",["^ ","^V",null,"^W",["^ ","^X","/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/js/dev/keechma/controller_manager.cljs","^Y",152,"^Z",7,"^[",152,"^10",16,"^11",["^12",["^13",["^12",[["~$routes-chan","^18","^1D","^17","^G","~$done-cb"]]]]]],"^?","~$keechma.controller-manager/start-ssr","^X","resources/public/js/dev/keechma/controller_manager.cljs","^10",16,"^1=",["^12",[["^22","^18","^1D","^17","^G","^23"]]],"^1>",null,"^1?",["^12",[null,null]],"^Z",1,"^1@",false,"^Y",152,"^1F","^1G","^[",152,"^1A",6,"^1B",true,"^11",["^12",["^13",["^12",[["^22","^18","^1D","^17","^G","^23"]]]]]],"~$route-command-to-controller",["^ ","^V",null,"^W",["^ ","^X","/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/js/dev/keechma/controller_manager.cljs","^Y",21,"^Z",17,"^[",21,"^10",44,"^1L",true,"^11",["^12",["^13",["^12",[["^G","^17","^1M","~$command-args","~$cmd-info"]]]]]],"^1L",true,"^?","~$keechma.controller-manager/route-command-to-controller","^X","resources/public/js/dev/keechma/controller_manager.cljs","^10",44,"^1=",["^12",[["^G","^17","^1M","^26","^27"]]],"^1>",null,"^1?",["^12",[null,null]],"^Z",1,"^1@",false,"^Y",21,"^1F",["^>",["^1G","~$js","~$clj-nil"]],"^[",21,"^1A",5,"^1B",true,"^11",["^12",["^13",["^12",[["^G","^17","^1M","^26","^27"]]]]]],"~$start",["^ ","^V",null,"^W",["^ ","^X","/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/js/dev/keechma/controller_manager.cljs","^Y",171,"^Z",7,"^[",171,"^10",12,"^11",["^12",["^13",["^12",[["~$route-chan","~$route-processor","^18","^1D","^17","^G"]]]]],"~:doc","Starts the controller manager. Controller manager is the central part\n  of the application that manages the lifecycle of the controllers and routes\n  the messages sent to them.\n\n  `start` function receives the following parameters:\n  \n  - `route-chan` - Route changes will communicated through this channel\n  - `route-processor` - Function that will be called on every route change. It can be used to process the route before it's written into app-db\n  - `commands-chan` - User (UI) commands will be sent through this channel\n  - `app-db` - application state atom\n  - `controllers` map of controllers registered for the app\n  - `reporter` - internal reporter function\n\n  Each time when the new route data comes through the `route-chan` controller\n  manager will do the following:\n\n  - call the `params` function on each registered controller\n  - compare the value returned by the `params` function with the value that\n  was returned last time when the route changes\n  - based on the comparison it will do one of the following:\n    - if the last value was `nil` and the current value is `nil` - do nothing\n    - if the last value was `nil` and the current value is not `nil` - start the controller\n    - if the last value was not `nil` and the current value is `nil` - stop the controller\n    - if the last value was not `nil` and the current value is not `nil` and these values are the same - do nothing\n    - if the last value was not `nil` and the current value is not `nil` and these values are different - restart the controller (stop the current instance and start the new one)\n\n  Controller manager also acts as a command router. Each time a command comes - through the `commands-chan`\n  the name of the command should look like this `[:controlnler-key :command-name]`. Controller manager will route the `:command-name` command to the appropriate controller based on the `:controller-key`. Controller key is the key under which the controller was registered in the `controllers` argument.\n  "],"^?","~$keechma.controller-manager/start","^X","resources/public/js/dev/keechma/controller_manager.cljs","^10",12,"^1=",["^12",[["^2<","^2=","^18","^1D","^17","^G"]]],"^1>",null,"^1?",["^12",[null,null]],"^Z",1,"^1@",false,"^Y",171,"^1F","~$cljs.core/IMap","^[",171,"^1A",6,"^1B",true,"^11",["^12",["^13",["^12",[["^2<","^2=","^18","^1D","^17","^G"]]]]],"^2>","Starts the controller manager. Controller manager is the central part\n  of the application that manages the lifecycle of the controllers and routes\n  the messages sent to them.\n\n  `start` function receives the following parameters:\n  \n  - `route-chan` - Route changes will communicated through this channel\n  - `route-processor` - Function that will be called on every route change. It can be used to process the route before it's written into app-db\n  - `commands-chan` - User (UI) commands will be sent through this channel\n  - `app-db` - application state atom\n  - `controllers` map of controllers registered for the app\n  - `reporter` - internal reporter function\n\n  Each time when the new route data comes through the `route-chan` controller\n  manager will do the following:\n\n  - call the `params` function on each registered controller\n  - compare the value returned by the `params` function with the value that\n  was returned last time when the route changes\n  - based on the comparison it will do one of the following:\n    - if the last value was `nil` and the current value is `nil` - do nothing\n    - if the last value was `nil` and the current value is not `nil` - start the controller\n    - if the last value was not `nil` and the current value is `nil` - stop the controller\n    - if the last value was not `nil` and the current value is not `nil` and these values are the same - do nothing\n    - if the last value was not `nil` and the current value is not `nil` and these values are different - restart the controller (stop the current instance and start the new one)\n\n  Controller manager also acts as a command router. Each time a command comes - through the `commands-chan`\n  the name of the command should look like this `[:controlnler-key :command-name]`. Controller manager will route the `:command-name` command to the appropriate controller based on the `:controller-key`. Controller key is the key under which the controller was registered in the `controllers` argument.\n  "],"~$route-change-execution-plan",["^ ","^V",null,"^W",["^ ","^X","/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/js/dev/keechma/controller_manager.cljs","^Y",33,"^Z",7,"^[",33,"^10",34,"^11",["^12",["^13",["^12",[["^1Y","~$running-controllers","^17"]]]]]],"^?","~$keechma.controller-manager/route-change-execution-plan","^X","resources/public/js/dev/keechma/controller_manager.cljs","^10",34,"^1=",["^12",[["^1Y","^2B","^17"]]],"^1>",null,"^1?",["^12",[null,null]],"^Z",1,"^1@",false,"^Y",33,"^1F",["^>",[null,"^1G"]],"^[",33,"^1A",3,"^1B",true,"^11",["^12",["^13",["^12",[["^1Y","^2B","^17"]]]]]],"~$call-ssr-handler-on-started-controllers",["^ ","^V",null,"^W",["^ ","^X","/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/js/dev/keechma/controller_manager.cljs","^Y",127,"^Z",7,"^[",127,"^10",46,"^11",["^12",["^13",["^12",[["^1D","^G","^2;","~$ssr-handler-done-cb"]]]]]],"^?","~$keechma.controller-manager/call-ssr-handler-on-started-controllers","^X","resources/public/js/dev/keechma/controller_manager.cljs","^10",46,"^1=",["^12",[["^1D","^G","^2;","^2E"]]],"^1>",null,"^1?",["^12",[null,null]],"^Z",1,"^1@",false,"^Y",127,"^1F","^1G","^[",127,"^1A",4,"^1B",true,"^11",["^12",["^13",["^12",[["^1D","^G","^2;","^2E"]]]]]],"~$send-route-changed-to-surviving-controllers",["^ ","^V",null,"^W",["^ ","^X","/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/js/dev/keechma/controller_manager.cljs","^Y",106,"^Z",7,"^[",106,"^10",50,"^11",["^12",["^13",["^12",[["^1D","^G","~$route-changed","^1Y"]]]]]],"^?","~$keechma.controller-manager/send-route-changed-to-surviving-controllers","^X","resources/public/js/dev/keechma/controller_manager.cljs","^10",50,"^1=",["^12",[["^1D","^G","^2H","^1Y"]]],"^1>",null,"^1?",["^12",[null,null]],"^Z",1,"^1@",false,"^Y",106,"^1F","^2:","^[",106,"^1A",4,"^1B",true,"^11",["^12",["^13",["^12",[["^1D","^G","^2H","^1Y"]]]]]],"~$call-handler-on-started-controllers",["^ ","^V",null,"^W",["^ ","^X","/home/buyn/Dev/ClojureScript/tutorials/my-cljs-project/example-todomvc/resources/public/js/dev/keechma/controller_manager.cljs","^Y",97,"^Z",7,"^[",97,"^10",42,"^11",["^12",["^13",["^12",[["^1D","^G","^2;"]]]]]],"^?","~$keechma.controller-manager/call-handler-on-started-controllers","^X","resources/public/js/dev/keechma/controller_manager.cljs","^10",42,"^1=",["^12",[["^1D","^G","^2;"]]],"^1>",null,"^1?",["^12",[null,null]],"^Z",1,"^1@",false,"^Y",97,"^1F","^2:","^[",97,"^1A",3,"^1B",true,"^11",["^12",["^13",["^12",[["^1D","^G","^2;"]]]]]]],"~:cljs.spec/registry-ref",[],"~:require-macros",["^ ","~$m","^;","^;","^;","^C","^C"],"~:cljs.analyzer/constants",["^ ","~:seen",["^>",["~:args","~:controller","~:router","~:else","^?","~:keechma/lifecycle","~:out-chan","~:start","~:params","~:command","~:running-controllers","~:recur","~:ssr-handler","~:route","~:active-topics","~:running","~:route-params","~:internal","~:stop","~:reporter","~:out","~:running-chans","~:app","~:info","~:keechma.controller-manager/reroute","~:in-chan","~:handler","~:route-changed","~:wake","~:in"]],"~:order",["^3>","^39","^37","^2Q","^?","^3:","^3@","^3<","^2X","^2P","^34","^2Y","^2W","^35","^2V","^3?","^2S","^2T","^2U","^33","^30","^36","^32","^31","^3=","^2R","^2[","^2Z","^3;","^38"]],"^2>",null]